-------------------------------------------------------------------
Fri Jan  4 22:38:59 CST 2013 - boyu.mt@taobao.com

Fix a bug in ext4 when inode free races with dirty page writing.

- patches.taobao/ext4-handle-writeback-of-inodes-which-are-being-reed.patch:

-------------------------------------------------------------------
Wed Dec 26 00:16:45 CST 2012 - boyu.mt@taobao.com

Fix a bug in ext4 when tid is too much large.

- patches.taobao/ext4-initialize-fsync-transaction-ids-in-ext4_new_inode.patch:

-------------------------------------------------------------------
Tue Dec 18 18:10:14 CST 2012 - boyu.mt@taobao.com

Update toa so that it can support IPV6.

- patches.taobao/toa.patch:

-------------------------------------------------------------------
Sat Dec  8 02:02:47 CST 2012 - boyu.mt@taobao.com

Add support in perf to diagnose java jit.

- patches.taobao/perf-jit-symbol-annotation-220.patch:

-------------------------------------------------------------------
Sat Dec  8 01:17:47 CST 2012 - boyu.mt@taobao.com

Let netoops skip the lock check as we will oops soon.

- patches.taobao/netoops_025_continue_to_dump_without_get_lock_when_panic.patch:

-------------------------------------------------------------------
Sat Dec  8 01:11:29 CST 2012 - boyu.mt@taobao.com

Turn of delalloc for ext4 by default since we met with many
regressions in search, mysql.

- patches.taobao/turn-off-delalloc-by-default.patch:

-------------------------------------------------------------------
Thu Nov 29 23:56:56 CST 2012 - boyu.mt@taobao.com

Fix a bug for ksoftirqd high cpu usage.

sched: Add irq_{enter,exit}() to scheduler_ipi()

- patches.taobao/sched-fix-ksoftirqd-high-usage.patch:

-------------------------------------------------------------------
Fri Nov 30 00:02:55 CST 2012 - boyu.mt@taobao.com

activate page according to vm_enable_legacy_mm.

- patches.taobao/activate-mapped-page-in-inactive-list.patch:

-------------------------------------------------------------------
Thu Dec  6 23:30:16 CST 2012 - boyu.mt@taobao.com

Let writeback not agressively like what 18 does.

- patches.taobao/fixup-bdi-writeback-task-burn-cpu-cycles.patch:

-------------------------------------------------------------------
Tue Nov 13 11:29:41 CST 2012 - boyu.mt@taobao.com

Change rpmbuild so that it can build debugino-common-successfully.

- rpm/taobao-kernel-build.sh:

-------------------------------------------------------------------
Mon Oct  8 19:17:36 CST 2012 - boyu.mt@taobao.com

Add SO_REUSEPORT to fix load imbalance in listening.

- patches.taobao/net_backport_SO_REUSEPORT_patch_to_fix_load_imbalance.patch:

-------------------------------------------------------------------
Tue Sep  4 11:15:07 CST 2012 - gaoyang.zyh@taobao.com

add a rpmbuild wrapper and README

- rpm/README:
- rpm/fullbuild.sh:
- scripts/package.py:

-------------------------------------------------------------------
Fri Aug 24 01:59:11 CST 2012 - boyu.mt@taobao.com

Add a new loadavg fix from Peter.

- Add it back in series.conf. 

-------------------------------------------------------------------
Fri Aug 24 00:39:05 CST 2012 - boyu.mt@taobao.com

Build a version for PE team, so remove the loadavg patch first.
- 

-------------------------------------------------------------------
Fri Aug 24 00:09:48 CST 2012 - boyu.mt@taobao.com

Add a new loadavg fix from Peter.

- patches.taobao/loadavg-bug-fix-004.patch:

-------------------------------------------------------------------
Tue Aug 21 15:52:38 CST 2012 - boyu.mt@taobao.com

Add a Epoch  in kernel spec.

Add a Epoch in kernel spec so that taobao's kernel can have a precedence
than redhat's kernel.

- rpm/kernel.spec.in:

-------------------------------------------------------------------
Tue Aug 14 23:58:59 CST 2012 - boyu.mt@taobao.com

Fix a bug reported by hadoop.

http://bugfree.corp.taobao.com/bug/186626

- patches.taobao/ext4-mark-mutli-page-io-complete-on-mapping-failure-backport.patch:

-------------------------------------------------------------------
Wed Aug  1 19:30:02 CST 2012 - boyu.mt@taobao.com

netoops: Add a sysctl fs.bio_netoops so that we can enable/disable
io error netoops online.

- patches.taobao/add-sysctl-to-control-netoops-in-bio-error.patch:

-------------------------------------------------------------------
Fri Jul  6 02:48:47 CST 2012 - boyu.mt@taobao.com

mm: forward port 2.6.18 memory management algorithm.

- patches.taobao/mm_forward_port_18_memory_management_algorithm.patch:

-------------------------------------------------------------------
Wed Jun 20 19:04:25 CST 2012 - boyu.mt@taobao.com

Fix a patch generation error.

- patches.taobao/net-rt-stat-skip-retransmitted-connections.patch:

-------------------------------------------------------------------
Wed Jun 20 18:52:46 CST 2012 - boyu.mt@taobao.com

net:rt stat skip retransmitted connections.

- patches.taobao/net-rt-stat-skip-retransmitted-connections.patch:

-------------------------------------------------------------------
Wed Jun 20 00:18:18 CST 2012 - bosong.ly@taobao.com

- Upgrade to RHEL6.2 2.6.32-220.23.1 kernel,
  - redhat-kernel-changelog:
  - redhat-kernel-source/*
  - redhat-kernel-version:

- Rebase patches by 2.6.32-220.23.1 kernel,
  - patches.taobao/0001-ext4-Move-extra-inode-read-to-a-new-function.patch:
  - patches.taobao/0003-ext4-Add-the-basic-function-for-inline-data-support.patch:
  - patches.taobao/0004-ext4-Add-read-support-for-inline-data.patch:
  - patches.taobao/0005-ext4-Add-normal-write-support-for-inline-data.patch:
  - patches.taobao/0006-ext4-Add-journalled-write-support-for-inline-data.patch:
  - patches.taobao/0007-ext4-Add-delalloc-support-for-inline-data.patch:
  - patches.taobao/0022-ext4-Fix-ext4_read_inline_page-bug.patch:
  - patches.taobao/0023-ext4-add-truncate-supoort-with-inline-data.patch:
  - patches.taobao/bigalloc-025-attempt-to-fix-race-in-bigalloc-code-path.patch:
  - patches.taobao/ext4-0003-iostat-account-read-metadata-requests-in-buffered-io.patch:
  - patches.taobao/ext4-0004-iostat-account-read-data-requests-in-buffered-io.patch:
  - patches.taobao/ext4-0005-iostat-account-write-metadata-requests-in-buffered-io.patch:
  - patches.taobao/ext4-0006-iostat-account-write-data-requests-in-buffered-io.patch:
  - patches.taobao/ext4-0007-iostat-account-requests-in-direct-io.patch:
  - patches.taobao/ext4-allocate-delalloc-blocks-before-changing-journa.patch:
  - patches.taobao/loadavg-bug-fix-001.patch: 
  - patches.taobao/loadavg-bug-fix-002.patch: 
  - patches.taobao/loadavg-bug-fix-003.patch: 

-------------------------------------------------------------------
Tue Jun 19 01:47:25 CST 2012 - boyu.mt@taobao.com

mm: fix wrong order of operations in __lru_cache_add.

- patches.taobao/mm_fix_wrong_order_of_operations_in__lru_cache_add.patch:

-------------------------------------------------------------------
Mon Jun 18 17:31:41 CST 2012 - gaoyang.zyh@taobao.com

'hwcap' in ldconfg is set to 1 by Redhat in REHL6, so we'd better keep align with it.
- rpm/kernel.spec.in:

-------------------------------------------------------------------
Fri Jun  8 12:13:46 CST 2012 - gaoyang.zyh@taobao.com

Remove this one since it has been merged in RHEL kernel.

- patches.driver/e1000e-1.3.10a.patch: Delete.

-------------------------------------------------------------------
Fri Jun  8 12:13:13 CST 2012 - gaoyang.zyh@taobao.com

Update to igb 3.2.10 driver.
Enable igb-fix-default-behavior-of-RSS-parameter-to-automatically-detect-number-of-Rx-Tx-queues.patch
which was comment out before.

- patches.driver/igb-3.2.10.patch:

-------------------------------------------------------------------
Wed Jun  6 15:33:20 CST 2012 - bingtian.ly@taobao.com

rt-stat: Export sum and total of RT samples in procfs instead of computing average in kernel.

- patches.taobao/net-rt-stat-just-only-export-sum-and-count-RT-samples-in-procfs.patch:
  rt-stat: Export sum and total of RT samples in procfs instead
  of computing average in kernel.

-------------------------------------------------------------------
Wed Jun  6 06:40:50 CST 2012 - boyu.mt@taobao.com

Fix a build error.

- patches.taobao/loadavg-bug-fix-003.patch:

-------------------------------------------------------------------
Tue Jun  5 07:19:16 CST 2012 - boyu.mt@taobao.com

Backported bug fixes for the loadavg calculation.

- patches.taobao/loadavg-bug-fix-001.patch:
- patches.taobao/loadavg-bug-fix-002.patch:
- patches.taobao/loadavg-bug-fix-003.patch:

-------------------------------------------------------------------
Wed May 30 01:45:04 CST 2012 - boyu.mt@taobao.com

fix a ^extent ext4 file system bug caused by the porting.

- patches.taobao/bigalloc-025-attempt-to-fix-race-in-bigalloc-code-path.patch:
- patches.taobao/bio-0004-ext4-inline-walk_page_buffers-into-mpage_da_submit_i.patch:

-------------------------------------------------------------------
Fri May 25 11:30:07 CST 2012 - bosong.ly@taobao.com

- Upgrade to RHEL6.2 2.6.32-220.17.1 kernel
  - patches.taobao/block-strict-rq_affinity-0001.patch: Refresh.
  - patches.taobao/buffer-aio.patch: Refresh.
  - patches.taobao/context_switch_per_cpu_stat.patch: Refresh.
  - patches.taobao/nohz-0005-sched-Cure-nr_iowait_cpu-users.patch: Refresh.
  - patches.taobao/tlock.patch: Refresh.
  - redhat-kernel-changelog:
  - redhat-kernel-source/
  - redhat-kernel-version:

-------------------------------------------------------------------
Thu May 24 00:09:06 CST 2012 - boyu.mt@taobao.com

- patches.taobao/block-throttle-Add-IO-throttled-information-in-blkcg.patch:

-------------------------------------------------------------------
Sat May 12 02:47:11 CST 2012 - boyu.mt@taobao.com

- patches.taobao/ext4-allocate-delalloc-blocks-before-changing-journa.patch:

-------------------------------------------------------------------
Thu May 10 18:57:20 CST 2012 - boyu.mt@taobao.com

- patches.taobao/fallocate-expose-stale-data-0001-add-new-flag.patch:
- patches.taobao/fallocate-expose-stale-data-0002-add-in-ext4.patch:
- patches.taobao/fallocate-expose-stale-data-0003-add-sysfs.patch:
- patches.taobao/vmscan-activate-executable-pages-after-first-usage.patch:

-------------------------------------------------------------------
Wed May  9 17:19:41 CST 2012 - bosong.ly@taobao.com

- patches.taobao/net-SyncAck-rt_stat-per-IP-address.patch:
  fix a NULL pointer deference on calling inet6_sk().

-------------------------------------------------------------------
Tue May  8 18:09:12 CST 2012 - bosong.ly@taobao.com

- patches.taobao/exception-trace-always-printk-segfault-info.patch:
  exception-trace: always show segfault info in dmesg if
  /proc/sys/debug/exception-trace set to 2.

-------------------------------------------------------------------
Mon May  7 21:46:26 CST 2012 - bosong.ly@taobao.com

- Corrrect patch format, add missing module_exit() lines,
  - patches.taobao/overlayfs-0006-overlay-filesystem.patch: Refresh.
  - patches.taobao/toa.patch: Refresh.

-------------------------------------------------------------------
Mon May  7 17:34:30 CST 2012 - bosong.ly@taobao.com

- Merge overlay file system,
  - Update config files.
  - patches.taobao/overlayfs-0001-fix-open-umount-race.patch: fix open/umount race.
  - patches.taobao/overlayfs-0002-vfs-pass-struct-path-to-__dentry_open.patch:
    vfs: pass struct path to __dentry_open().
  - patches.taobao/overlayfs-0003-vfs-add-i_op-open.patch: vfs: add i_op->open().
  - patches.taobao/overlayfs-0004-vfs-export-do_splice_direct-to-modules.patch:
    vfs: export do_splice_direct() to modules.
  - patches.taobao/overlayfs-0005-vfs-introduce-clone_private_mount.patch:
    vfs: introduce clone_private_mount().
  - patches.taobao/overlayfs-0006-overlay-filesystem.patch: overlay filesystem.
  - patches.taobao/overlayfs-0007-overlayfs-add-statfs-support.patch:
    overlayfs: add statfs support.
  - patches.taobao/overlayfs-0008-overlayfs-implement-show_options.patch:
    overlayfs: implement show_options.
  - patches.taobao/overlayfs-0009-overlay-filesystem-documentation.patch:
    overlay: overlay filesystem documentation.
  - patches.taobao/overlayfs-0010-fs-limit-filesystem-stacking-depth.patch:
    fs: limit filesystem stacking depth.
  - patches.taobao/overlayfs-0011-fix-d_count-zero-problem-in-dget-of-ovl_permission.patch:
    ovlayfs: fix d_count zero problem in ovl_permission.

- Rebase due to overlayfs get merged.
  - patches.taobao/acridafs.patch: Refresh.

-------------------------------------------------------------------
Mon May  7 15:57:34 CST 2012 - bosong.ly@taobao.com

- Update config files.
  - config/
  - patches.taobao/kernel-hookers-service.patch

-------------------------------------------------------------------
Mon May  7 15:27:55 CST 2012 - bosong.ly@taobao.com

- patches.taobao/export-necessary-kernel-symbols-for-kernel-modules.patch:
  export symbols needed for external kernel module (renamed and updated from
  patches.taobao/lvs-toa-rs-export-symbols.patch).
- patches.taobao/kernel-hookers-service.patch: kernel hookers service.
- patches.taobao/net-SyncAck-rt_stat-per-IP-address.patch: net:
  SyncAck rt_stat per IP address statistic.
- patches.taobao/toa.patch: TOA: Tcp Option Address for IPv4.

-------------------------------------------------------------------
Wed May  2 21:06:49 CST 2012 - bosong.ly@taobao.com

- patches.taobao/sched_x86-Fix-overflow-in-cyc2ns_offset.patch:
  Fix a minor TSC overflow when booting a kernel by kexec.

-------------------------------------------------------------------
Fri Apr 20 14:19:35 CST 2012 - bosong.ly@taobao.com

- Update to RHEL6 2.6.32-220.13.1
  - Update config files.
  - redhat-kernel-changelog:
  - redhat-kernel-source/:
  - redhat-kernel-version:

- Rebase patches to RHEL6 2.6.32-220.13.1
  - patches.taobao/buffer-aio.patch:
  - patches.taobao/ext4-io-error-guard-for-file-system-protection-on-broken-storage-device.patch:
  - patches.taobao/mm-0001-compaction-checks-correct-fragmentation-index.patch:
  - patches.taobao/mm-0003-compaction-abort-compaction-if-too-many-pages-are.patch:
  - patches.taobao/mm-0006-compaction.c-avoid-double-mem_cgroup_del_lru.patch:
  - patches.taobao/mm-add-a-sysctl-to-decide-whether-to-do-context-readahead-or-not.patch:
  - patches.taobao/mm-sysctl-mlock-flush-pagevec.patch: Refresh.
  - patches.taobao/net-tcp-timewait-dynamic-config.patch: Refresh.
  - patches.taobao/nohz-0006-procfs-do-not-overflow-get_idle-iowait_time-for-nohz.patch:
  - patches.taobao/tlock.patch:

- Delete patch due to we don't need it for s390 and ia64
  - patches.taobao/nohz-0007-procfs-do-not-confuse-jiffies-with-cputime64_t.patch: Delete.

- Merge patches from master branch
  - patches.taobao/acridafs.patch: acridafs: port acridafs kernel module to 2.6.32 version.
  - patches.taobao/block-Make-cfq_target_latency-tunable-through-sysfs.patch:
    block: Make cfq_target_latency tunable through sysfs.

-------------------------------------------------------------------
Wed Mar 28 18:31:23 CST 2012 - bosong.ly@taobao.com

- patches.taobao/mm-sysctl-mlock-flush-pagevec.patch:
  set sysctl_mlock_flush_pagevec default to 0 (disable)

-------------------------------------------------------------------
Wed Mar 28 13:50:35 CST 2012 - bosong.ly@taobao.com

- series.conf: add patches.driver/igb-fix-default-behavior-of-RSS-parameter-to-automatically-detect-number-of-Rx-Tx-queues.patch

-------------------------------------------------------------------
Wed Mar 21 12:13:45 CST 2012 - bosong.ly@taobao.com

- More fixes for bugfree#125721 (idle & iowait ticks counter overflow):
  - patches.taobao/nohz-0001-fix-update_ts_time_stat-idle-accouting.patch:
    Update references (BF#152721).
  - patches.taobao/nohz-0002-make-idle-iowait-counter-update-conditional.patch:
    Update references (BF#152721).
  - patches.taobao/nohz-0003-proc-consider-nohz-when-printing-idle-and-iowait-times.patch:
    Update references (BF#152721).
  - patches.taobao/nohz-0004-add-nsecs_to_jiffies64.patch: backport:
    add nsecs_to_jiffies64() and nsecs_to_jiffies() (BF#152721).
  - patches.taobao/nohz-0005-sched-Cure-nr_iowait_cpu-users.patch:
    sched: Cure nr_iowait_cpu() users (BF#152721).
  - patches.taobao/nohz-0006-procfs-do-not-overflow-get_idle-iowait_time-for-nohz.patch:
  - patches.taobao/nohz-0007-procfs-do-not-confuse-jiffies-with-cputime64_t.patch:

-------------------------------------------------------------------
Fri Mar  9 17:39:38 CST 2012 - bosong.ly@taobao.com

- Update to RHEL6 2.6.32-220.7.1 kernel.
  - Update config files.
  - patches.taobao/cfq_avoid_async_write_starve.patch: Refresh.
  - patches.taobao/cfq_request_deadline_policy.patch: Refresh.
  - patches.taobao/context_switch_per_cpu_stat.patch: Refresh.
  - patches.taobao/pagecache_hit_accounting_003_mm_add_accouting_for_pagecache.patch: Refresh.
  - patches.taobao/pagecache_hit_accounting_004_add_readpages_accounting.patch: Refresh.
  - patches.taobao/tlock.patch: Refresh.
  - patches.taobao/toa.patch: Refresh.
  - patches.taobao/writeback-improve-001-stop-on-wrap-linux_mm_page-writeback.patch:
    writeback: quit on wrap for .range_cyclic (write_cache_pages).
  - patches.taobao/writeback-improve-002-relax-busy-overwrites.patch:
    writeback: delay periodic work on wrap.
  - redhat-kernel-changelog:
  - redhat-kernel-source/:
  - redhat-kernel-version:

-------------------------------------------------------------------
Fri Mar  9 01:35:03 CST 2012 - boyu.mt@taobao.com

Add io stat for ext4.

- patches.taobao/ext4-0001-iostat-add-counters-and-functions.patch:
- patches.taobao/ext4-0002-iostat-define-wrapper-functions-for-buffer-layer.patch:
- patches.taobao/ext4-0003-iostat-account-read-metadata-requests-in-buffered-io.patch:
- patches.taobao/ext4-0004-iostat-account-read-data-requests-in-buffered-io.patch:
- patches.taobao/ext4-0005-iostat-account-write-metadata-requests-in-buffered-io.patch:
- patches.taobao/ext4-0006-iostat-account-write-data-requests-in-buffered-io.patch:
- patches.taobao/ext4-0007-iostat-account-requests-in-direct-io.patch:
- patches.taobao/ext4-0008-iostat-show-the-result-of-accouting.patch:

-------------------------------------------------------------------
Thu Mar  1 15:43:51 CST 2012 - bosong.ly@taobao.com

- patches.taobao/kvm-set-KSM_RUN_STOP-by-default.patch: kvm:
  set KSM_RUN_STOP by default.

-------------------------------------------------------------------
Thu Mar  1 11:12:43 CST 2012 - bosong.ly@taobao.com

- patches.taobao/toa.patch: remove compiling error. 

-------------------------------------------------------------------
Mon Feb 27 16:16:00 CST 2012 - bosong.ly@taobao.com

- patches.taobao/context_switch_per_cpu_stat.patch: Refresh.
- patches.taobao/tlock.patch: Refresh.
- enable patches.taobao/fix-type-of-cputime_to_usecs-in-asm-generic-cputime.h.patch

-------------------------------------------------------------------
Mon Feb 27 15:46:26 CST 2012 - bosong.ly@taobao.com

- Update config files: modify ACPI_APEI_GHES from m to y in -debug.config.

-------------------------------------------------------------------
Fri Feb 24 19:06:10 CST 2012 - bosong.ly@taobao.com

- Update to RHEL6.2 linux-2.6.32-220.4.2 kernel
  - Update config files.
  - redhat-kernel-source/kabitool:
  - redhat-kernel-source/kernel.spec:
  - redhat-kernel-source/linux-2.6.32/Documentation/kernel-parameters.txt:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/timer.h:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/module.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/tsc.c:
  - redhat-kernel-source/linux-2.6.32/fs/proc/base.c:
  - redhat-kernel-source/linux-2.6.32/kabitool:
  - redhat-kernel-source/linux-2.6.32/kernel/sched.c:
  - redhat-kernel-version:

-------------------------------------------------------------------
Fri Feb 24 16:31:16 CST 2012 - bosong.ly@taobao.com

- Update to RHEL6.2 2.6.32-220.2.1 kernel.

-------------------------------------------------------------------
Thu Feb 23 13:40:22 CST 2012 - bosong.ly@taobao.com

- patches.taobao/ext4-io-error-guard-for-file-system-protection-on-broken-storage-device.patch:
  refresh to remove merge confliction.

-------------------------------------------------------------------
Thu Feb 23 13:20:11 CST 2012 - bosong.ly@taobao.com

- patches.taobao/ext4-io-error-guard-for-file-system-protection-on-broken-storage-device.patch:
  do not call ext4_sync_fs() before setting MS_RDONLY flag.

-------------------------------------------------------------------
Tue Feb 21 19:28:30 CST 2012 - bosong.ly@taobao.com

- patches.taobao/ext4-io-error-guard-add-netoops-support.patch: refresh
- patches.taobao/ext4-io-error-guard-for-file-system-protection-on-broken-storage-device.patch:
  fix several NULL dereference bugs.
- patches.taobao/fix-typo-of-do_hypervisor_callback-in-entry_64.S.patch:
  fix typo of do_hypervisor_callback in entry_64.S.
- patches.taobao/remove-redundant-variable-in-struct-pmcraid_cmd.patch:
  remove redundant sense_buffer member in pmcraid_cmd.
- patches.taobao/x86-gcc-4.6-Use-gcc--m-options-when-building-vdso.patch:
  fix compiling warnings.

-------------------------------------------------------------------
Tue Jan 31 17:38:22 CST 2012 - bosong.ly@taobao.com

- Update debug config files.
  - remove drbd since no-body uses it currently.
  - add tlock kernel module from master branch.

-------------------------------------------------------------------
Tue Jan 31 16:49:38 CST 2012 - bosong.ly@taobao.com

- Update config files:
  - remove drbd since no-body uses it currently.
  - add tlock kernel module from master branch.
- patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch: Delete.
- patches.taobao/ext4-io-error-guard-for-file-system-protection-on-broken-storage-device.patch:
  Ext4: io error guard for file system protection on broken storage device.
- patches.taobao/ext4-io-error-guard-add-netoops-support.patch:
  Ext4: Add netoops support to io error guard.
- patches.taobao/pcie_aspm_disable_on_default.patch: power
  management: disable pcie_aspm on default.
- patches.taobao/perf-Validate-cpu-early-in-perf_event_alloc.patch: Refresh.
- patches.taobao/tlock.patch: tlock: port tlock_kern kernel module to 2.6.32 version.

-------------------------------------------------------------------
Thu Jan 19 14:31:37 CST 2012 - bosong.ly@taobao.com

- Update config files: We did testing ourselves, for haproxy disable
  NO_HZ isn't that much faster as people reported. We don't gain any
  benifit from having a different config item from RHEL6 kernel,
  therefore re-enable it.

-------------------------------------------------------------------
Tue Dec 27 14:36:35 CST 2011 - boyu.mt@taobao.com

- patches.taobao/nohz-0002-make-idle-iowait-counter-update-conditional.patch:
  Refresh.

  Fix a build bug with no_hz disbled.

-------------------------------------------------------------------
Thu Dec 22 18:39:51 CST 2011 - bosong.ly@taobao.com

- Update config files: disable NO_HZ.
- Fix incorrect bash interpreter header to #!/bin/bash
  - scripts/abs-post-receive:
  - scripts/add-timestamp.sh:
  - scripts/apply-patches.sh:
  - scripts/check-cvs-add:
  - scripts/check-patch:
  - scripts/cvs-touched-files:
  - scripts/git-pre-commit:
  - scripts/install-git-hooks:
  - scripts/log:
  - scripts/perf:
  - scripts/refresh_patch.sh:
  - scripts/vc:

-------------------------------------------------------------------
Thu Dec  8 18:27:23 CST 2011 - boyu.mt@taobao.com

This patch series can solve cpu idle and iowait time calculation incorret
problem.

- patches.taobao/nohz-0001-fix-update_ts_time_stat-idle-accouting.patch:
  nohz: Fix update_ts_time_stat idle accounting.
- patches.taobao/nohz-0002-make-idle-iowait-counter-update-conditional.patch:
  nohz: Make idle/iowait counter update conditional.
- patches.taobao/nohz-0003-proc-consider-nohz-when-printing-idle-and-iowait-times.patch:
  Consider NO_HZ when printing idle and iowait times.

-------------------------------------------------------------------
Mon Dec 5 11:27:00 CST 2011 - gaoyang.zyh@taobao.com

- The build experiment failed, so we fall back to build the rhel5 kernel on 
  rhel5, exactly as before. The relevant commits are reverted now.

-------------------------------------------------------------------
Wed Nov 30 21:26:15 CST 2011 - boyu.mt@taobao.com

- patches.taobao/mm-add-a-sysctl-to-decide-whether-to-do-context-readahead-or-not.patch:
  mm: add a sysctl to decide whether to do context readahead
  or not.

-------------------------------------------------------------------
Wed Nov 30 10:53:31 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: differentiate the building release from the target running release.
  Since Nov 29 we build the kernels for both RHEL5 and RHEL6 on RHEL6, for better fancy
  debuginfo and the debuginfo package for debug kernel (well I know it's a bit confusing,
  the rpmbuild module on old RHEL5 has a bug, which makes it unable to build the too large
  debuginfo packages, e.g. the one for kernel-debug).
  And we use the same build platform from now on, that I can't assume the build platform
  is the same with the target platform anymore, so I made this change.

  ***************************************************************************************
  ** From now on, to build on RHEL5 (only for manual building, ABS use unified RHEL6), **
  ** you have to append a '--with rhel5' option to the rpmbuild command line.          **
  ***************************************************************************************

-------------------------------------------------------------------
Tue Nov 29 12:04:09 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: consolidate the lsb_release version judgement.

-------------------------------------------------------------------
Tue Nov 29 11:42:53 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: turn on debug kernel build.

-------------------------------------------------------------------
Tue Nov 29 02:03:23 CST 2011 - bosong.ly@taobao.com

- MAINTAINERS: add zhengming@taobao.com into maintainers list.
- patches.driver/igb-3.2.10.patch: backport igb 3.2.10 driver
  to RHEL6 2.6.32 kernel.
- rebase patches to remove chunk offset warning in patches applying:
  - patches.taobao/netoops_016_oops_pass_regs_to_oops_exit.patch
  - patches.taobao/netoops_017_kmsg_dumper_pass_pt_regs_along_to_dumpers.patch
  - patches.taobao/perf-Validate-cpu-early-in-perf_event_alloc.patch
- patches.taobao/tcp_v4_err.lock-fix.patch: Don't change unlocked socket state in tcp_v4_err().

-------------------------------------------------------------------
Tue Nov 29 02:00:33 CST 2011 - bosong.ly@taobao.com

- MAINTAINERS:
- patches.driver/igb-3.2.10.patch: backport igb 3.2.10 driver
  to RHEL6 2.6.32 kernel.
- patches.taobao/tcp_v4_err.lock-fix.patch:

-------------------------------------------------------------------
Thu Nov 24 17:52:50 CST 2011 - bosong.ly@taobao.com

- patches.driver/bnx2-disable-msi-when-no-per-vector-masking.patch:
  Disable bnx2 MSI support when no per-vector masking capability
  (BF#131606).

-------------------------------------------------------------------
Thu Nov 24 17:50:14 CST 2011 - bosong.ly@taobao.com

- Update to RHEL6 kernel 2.6.32-131.21.1:
  - redhat-kernel-changelog:
  - redhat-kernel-source/kernel.spec:
  - redhat-kernel-source/linux-2.6.32/arch/powerpc/platforms/pseries/iommu.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/pgtable-3level.h:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/pgtable.h:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/apic/io_apic.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/cpu/perf_event.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kvm/x86.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/fault.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/init_64.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/pageattr.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/pgtable.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/xen/mmu.c:
  - redhat-kernel-source/linux-2.6.32/crypto/md5.c:
  - redhat-kernel-source/linux-2.6.32/drivers/acpi/osl.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/agp/generic.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/random.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/tpm/tpm.c:
  - redhat-kernel-source/linux-2.6.32/drivers/misc/enclosure.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/bnx2x/bnx2x_cmn.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/igb/igb_main.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/wireless/b43/dma.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/wireless/b43/dma.h:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/hotplug/acpiphp_glue.c:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/msi.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/ibmvscsi/ibmvscsi.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/iscsi_tcp.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/megaraid/megaraid_sas_base.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/megaraid/megaraid_sas_fusion.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/scsi_error.c:
  - redhat-kernel-source/linux-2.6.32/drivers/serial/8250.c:
  - redhat-kernel-source/linux-2.6.32/drivers/serial/8250_pci.c:
  - redhat-kernel-source/linux-2.6.32/fs/buffer.c:
  - redhat-kernel-source/linux-2.6.32/fs/cifs/cifssmb.c:
  - redhat-kernel-source/linux-2.6.32/fs/cifs/connect.c:
  - redhat-kernel-source/linux-2.6.32/fs/ecryptfs/main.c:
  - redhat-kernel-source/linux-2.6.32/fs/ext4/inode.c:
  - redhat-kernel-source/linux-2.6.32/fs/fscache/cache.c:
  - redhat-kernel-source/linux-2.6.32/fs/fscache/main.c:
  - redhat-kernel-source/linux-2.6.32/fs/fuse/dev.c:
  - redhat-kernel-source/linux-2.6.32/fs/nfs/nfs4xdr.c:
  - redhat-kernel-source/linux-2.6.32/fs/partitions/efi.c:
  - redhat-kernel-source/linux-2.6.32/include/acpi/acpiosxf.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/buffer_head.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/cryptohash.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/if_packet.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/kvm_host.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/msi.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/netdevice.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/pci_ids.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/random.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/rcutree.h:
  - redhat-kernel-source/linux-2.6.32/include/net/ipv6.h:
  - redhat-kernel-source/linux-2.6.32/include/net/sctp/command.h:
  - redhat-kernel-source/linux-2.6.32/include/net/secure_seq.h:
  - redhat-kernel-source/linux-2.6.32/include/net/sock.h:
  - redhat-kernel-source/linux-2.6.32/include/net/transp_v6.h:
  - redhat-kernel-source/linux-2.6.32/include/scsi/scsi_host.h:
  - redhat-kernel-source/linux-2.6.32/kernel/panic.c:
  - redhat-kernel-source/linux-2.6.32/kernel/perf_event.c:
  - redhat-kernel-source/linux-2.6.32/kernel/rcutree.c:
  - redhat-kernel-source/linux-2.6.32/kernel/taskstats.c:
  - redhat-kernel-source/linux-2.6.32/lib/Makefile:
  - redhat-kernel-source/linux-2.6.32/lib/md5.c:
  - redhat-kernel-source/linux-2.6.32/mm/mmap.c:
  - redhat-kernel-source/linux-2.6.32/mm/mremap.c:
  - redhat-kernel-source/linux-2.6.32/mm/rmap.c:
  - redhat-kernel-source/linux-2.6.32/net/8021q/vlan_core.c:
  - redhat-kernel-source/linux-2.6.32/net/bridge/br_multicast.c:
  - redhat-kernel-source/linux-2.6.32/net/core/Makefile:
  - redhat-kernel-source/linux-2.6.32/net/core/secure_seq.c:
  - redhat-kernel-source/linux-2.6.32/net/core/sock.c:
  - redhat-kernel-source/linux-2.6.32/net/dccp/ipv4.c:
  - redhat-kernel-source/linux-2.6.32/net/dccp/ipv6.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/inet_hashtables.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/inetpeer.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/netfilter/nf_nat_proto_common.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/route.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/tcp_ipv4.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/af_inet6.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/inet6_hashtables.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/ip6_output.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/tcp_ipv6.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/udp.c:
  - redhat-kernel-source/linux-2.6.32/net/packet/af_packet.c:
  - redhat-kernel-source/linux-2.6.32/net/sctp/sm_sideeffect.c:
  - redhat-kernel-source/linux-2.6.32/net/sctp/sm_statefuns.c:
  - redhat-kernel-source/linux-2.6.32/net/sunrpc/cache.c:
  - redhat-kernel-source/linux-2.6.32/net/sunrpc/rpcb_clnt.c:
  - redhat-kernel-source/linux-2.6.32/net/sunrpc/sched.c:
  - redhat-kernel-source/linux-2.6.32/tools/perf/util/config.c:
  - redhat-kernel-source/linux-kernel-test.patch:
  - redhat-kernel-version:
  - redhat-kernel-source/.gitignore: Delete.

-------------------------------------------------------------------
Thu Nov 24 17:49:27 CST 2011 - bosong.ly@taobao.com

- Upgdate to RHEL6 kernel 2.6.32-131.21.1:
  - redhat-kernel-changelog:
  - redhat-kernel-source/kernel.spec:
  - redhat-kernel-source/linux-2.6.32/arch/powerpc/platforms/pseries/iommu.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/pgtable-3level.h:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/pgtable.h:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/apic/io_apic.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/cpu/perf_event.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kvm/x86.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/fault.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/init_64.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/pageattr.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/mm/pgtable.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/xen/mmu.c:
  - redhat-kernel-source/linux-2.6.32/crypto/md5.c:
  - redhat-kernel-source/linux-2.6.32/drivers/acpi/osl.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/agp/generic.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/random.c:
  - redhat-kernel-source/linux-2.6.32/drivers/char/tpm/tpm.c:
  - redhat-kernel-source/linux-2.6.32/drivers/misc/enclosure.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/bnx2x/bnx2x_cmn.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/igb/igb_main.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/wireless/b43/dma.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/wireless/b43/dma.h:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/hotplug/acpiphp_glue.c:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/msi.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/ibmvscsi/ibmvscsi.c:
- redhat-kernel-source/linux-2.6.32/drivers/scsi/iscsi_tcp.c:
- redhat-kernel-source/linux-2.6.32/drivers/scsi/megaraid/megaraid_sas_base.c:
- redhat-kernel-source/linux-2.6.32/drivers/scsi/megaraid/megaraid_sas_fusion.c:
- redhat-kernel-source/linux-2.6.32/drivers/scsi/scsi_error.c:
- redhat-kernel-source/linux-2.6.32/drivers/serial/8250.c:
- redhat-kernel-source/linux-2.6.32/drivers/serial/8250_pci.c:
- redhat-kernel-source/linux-2.6.32/fs/buffer.c:
- redhat-kernel-source/linux-2.6.32/fs/cifs/cifssmb.c:
- redhat-kernel-source/linux-2.6.32/fs/cifs/connect.c:
- redhat-kernel-source/linux-2.6.32/fs/ecryptfs/main.c:
- redhat-kernel-source/linux-2.6.32/fs/ext4/inode.c:
- redhat-kernel-source/linux-2.6.32/fs/fscache/cache.c:
- redhat-kernel-source/linux-2.6.32/fs/fscache/main.c:
- redhat-kernel-source/linux-2.6.32/fs/fuse/dev.c:
- redhat-kernel-source/linux-2.6.32/fs/nfs/nfs4xdr.c:
- redhat-kernel-source/linux-2.6.32/fs/partitions/efi.c:
- redhat-kernel-source/linux-2.6.32/include/acpi/acpiosxf.h:
- redhat-kernel-source/linux-2.6.32/include/linux/buffer_head.h:
- redhat-kernel-source/linux-2.6.32/include/linux/cryptohash.h:
- redhat-kernel-source/linux-2.6.32/include/linux/if_packet.h:
- redhat-kernel-source/linux-2.6.32/include/linux/kvm_host.h:
- redhat-kernel-source/linux-2.6.32/include/linux/msi.h:
- redhat-kernel-source/linux-2.6.32/include/linux/netdevice.h:
- redhat-kernel-source/linux-2.6.32/include/linux/pci_ids.h:
- redhat-kernel-source/linux-2.6.32/include/linux/random.h:
- redhat-kernel-source/linux-2.6.32/include/linux/rcutree.h:
- redhat-kernel-source/linux-2.6.32/include/net/ipv6.h:
- redhat-kernel-source/linux-2.6.32/include/net/sctp/command.h:
- redhat-kernel-source/linux-2.6.32/include/net/secure_seq.h:
- redhat-kernel-source/linux-2.6.32/include/net/sock.h:
- redhat-kernel-source/linux-2.6.32/include/net/transp_v6.h:
- redhat-kernel-source/linux-2.6.32/include/scsi/scsi_host.h:
- redhat-kernel-source/linux-2.6.32/kernel/panic.c:
- redhat-kernel-source/linux-2.6.32/kernel/perf_event.c:
- redhat-kernel-source/linux-2.6.32/kernel/rcutree.c:
- redhat-kernel-source/linux-2.6.32/kernel/taskstats.c:
- redhat-kernel-source/linux-2.6.32/lib/Makefile:
- redhat-kernel-source/linux-2.6.32/lib/md5.c:
- redhat-kernel-source/linux-2.6.32/mm/mmap.c:
- redhat-kernel-source/linux-2.6.32/mm/mremap.c:
- redhat-kernel-source/linux-2.6.32/mm/rmap.c:
- redhat-kernel-source/linux-2.6.32/net/8021q/vlan_core.c:
- redhat-kernel-source/linux-2.6.32/net/bridge/br_multicast.c:
- redhat-kernel-source/linux-2.6.32/net/core/Makefile:
- redhat-kernel-source/linux-2.6.32/net/core/secure_seq.c:
- redhat-kernel-source/linux-2.6.32/net/core/sock.c:
- redhat-kernel-source/linux-2.6.32/net/dccp/ipv4.c:
- redhat-kernel-source/linux-2.6.32/net/dccp/ipv6.c:
- redhat-kernel-source/linux-2.6.32/net/ipv4/inet_hashtables.c:
- redhat-kernel-source/linux-2.6.32/net/ipv4/inetpeer.c:
- redhat-kernel-source/linux-2.6.32/net/ipv4/netfilter/nf_nat_proto_common.c:
- redhat-kernel-source/linux-2.6.32/net/ipv4/route.c:
- redhat-kernel-source/linux-2.6.32/net/ipv4/tcp_ipv4.c:
- redhat-kernel-source/linux-2.6.32/net/ipv6/af_inet6.c:
- redhat-kernel-source/linux-2.6.32/net/ipv6/inet6_hashtables.c:
- redhat-kernel-source/linux-2.6.32/net/ipv6/ip6_output.c:
- redhat-kernel-source/linux-2.6.32/net/ipv6/tcp_ipv6.c:
- redhat-kernel-source/linux-2.6.32/net/ipv6/udp.c:
- redhat-kernel-source/linux-2.6.32/net/packet/af_packet.c:
- redhat-kernel-source/linux-2.6.32/net/sctp/sm_sideeffect.c:
- redhat-kernel-source/linux-2.6.32/net/sctp/sm_statefuns.c:
- redhat-kernel-source/linux-2.6.32/net/sunrpc/cache.c:
- redhat-kernel-source/linux-2.6.32/net/sunrpc/rpcb_clnt.c:
- redhat-kernel-source/linux-2.6.32/net/sunrpc/sched.c:
- redhat-kernel-source/linux-2.6.32/tools/perf/util/config.c:
- redhat-kernel-source/linux-kernel-test.patch:
- redhat-kernel-version:
- redhat-kernel-source/.gitignore: Delete.

-------------------------------------------------------------------
Wed Nov 23 13:09:22 CST 2011 - bosong.ly@taobao.com

- Rebase the patches to remove hunk offset warning in patch applying:
  - patches.taobao/ext4-fix-races-in-ext4_sync_parent.patch
  - patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch
  - patches.taobao/mm-increase-RECLAIM_DISTANCE-to-30.patch

-------------------------------------------------------------------
Tue Nov 22 11:25:42 CST 2011 - gaoyang.zyh@taobao.com

- Forgot to add the entry in series.conf, for mm-increase-RECLAIM_DISTANCE-to-30.patch 

-------------------------------------------------------------------
Tue Nov  1 00:41:38 CST 2011 - boyu.mt@taobao.com

- patches.taobao/ext4-fix-no-dirty-buffer-in-convert-to-initialized.patch:
  ext4: fix no mark dirty in ext4_ext_convert_to_initialized().

This fix the redhat bugzilla 742091.

-------------------------------------------------------------------
Mon Oct 31 14:14:25 CST 2011 - gaoyang.zyh@taobao.com
Add these patches to support upstream strict rq_affinity feature,
which can make the softirqs run on every cores.

- patches.taobao/block-strict-rq_affinity-0001.patch: block:
  strict rq_affinity.
- patches.taobao/block-strict-rq_affinity-0002.patch: block:
  Make rq_affinity = 1 work as expected.
- patches.taobao/block-strict-rq_affinity-0003.patch: block:
  improve rq_affinity placement.

-------------------------------------------------------------------
Mon Sep  5 18:35:16 CST 2011 - gaoyang.zyh@taobao.com
By introducing this fix we can alleviate the phenomemon that kernel
enables zone_reclaim_mode during boot by mistake on some servers

- patches.taobao/mm-increase-RECLAIM_DISTANCE-to-30.patch: mm:
  increase RECLAIM_DISTANCE to 30.

-------------------------------------------------------------------
Wed Aug 31 15:32:01 CST 2011 - bosong.ly@taobao.com

- Update to RHEL6 2.6.32-131.12.1.el6
  - MAINTAINERS:
  - patches.taobao/ext4-Fix-buffer-head-leaks-after-calls-to-ext4_get_inode_loc.diff:
  - patches.taobao/ext4-Make-fsync-sync-new-parent-directories-in-no-jo.patch: Refresh.
  - patches.taobao/ext4-Remove-extraneous-newlines-in-ext4_msg-calls.diff:
  - patches.taobao/ext4-don-t-show-mount-options-in-proc-mounts-if-ther.patch: Refresh.
  - patches.taobao/ext4-fix-kernel-oops-if-the-journal-superblock-has-a-non-zero-j_errno.diff:
  - patches.taobao/ext4-init-statistics-after-journal-recovery.patch: Refresh.
  - patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch: Refresh.
  - patches.taobao/rhel6-add-missing-key.h: Add cropt/signature/key.h which is missing in rhel6 2.6.32-131.12.1.
  - redhat-kernel-source/config-generic-rhel:
  - redhat-kernel-source/config-x86_64-generic-rhel:
  - redhat-kernel-source/linux-2.6.32/arch/x86/include/asm/pvclock.h:
  - redhat-kernel-source/linux-2.6.32/drivers/block/cciss.c:
  - redhat-kernel-source/linux-2.6.32/drivers/block/cciss.h:
  - redhat-kernel-source/linux-2.6.32/drivers/block/cciss_cmd.h:
  - redhat-kernel-source/linux-2.6.32/drivers/md/md.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/benet/be.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/benet/be_cmds.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/benet/be_cmds.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/benet/be_hw.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/benet/be_main.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/ehea/ehea_main.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/r8169.c:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/intel-iommu.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/hpsa.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/hpsa.h:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/hpsa_cmd.h:
  - redhat-kernel-source/linux-2.6.32/fs/ext4/ext4_extents.h:
  - redhat-kernel-source/linux-2.6.32/fs/ext4/extents.c:
  - redhat-kernel-source/linux-2.6.32/fs/ext4/move_extent.c:
  - redhat-kernel-source/linux-2.6.32/fs/ext4/super.c:
  - redhat-kernel-source/linux-2.6.32/fs/gfs2/glops.c:
  - redhat-kernel-source/linux-2.6.32/fs/gfs2/ops_inode.c:
  - redhat-kernel-source/linux-2.6.32/fs/gfs2/super.c:
  - redhat-kernel-source/linux-2.6.32/fs/lockd/clntproc.c:
  - redhat-kernel-source/linux-2.6.32/fs/nfs/dir.c:
  - redhat-kernel-source/linux-2.6.32/fs/partitions/efi.c:
  - redhat-kernel-source/linux-2.6.32/fs/proc/base.c:
  - redhat-kernel-source/linux-2.6.32/include/linux/iommu.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/pid.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/sunrpc/sched.h:
  - redhat-kernel-source/linux-2.6.32/kernel/pid.c:
  - redhat-kernel-source/linux-2.6.32/kernel/signal.c:
  - redhat-kernel-source/linux-2.6.32/mm/ksm.c:
  - redhat-kernel-source/linux-2.6.32/net/bluetooth/l2cap.c:
  - redhat-kernel-source/linux-2.6.32/net/bluetooth/rfcomm/sock.c:
  - redhat-kernel-source/linux-2.6.32/net/core/dev.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/inet_diag.c:
  - redhat-kernel-source/linux-2.6.32/net/sunrpc/clnt.c:
  - redhat-kernel-source/linux-2.6.32/net/sunrpc/sched.c:
  - redhat-kernel-source/linux-2.6.32/net/wireless/nl80211.c:
  - redhat-kernel-source/linux-2.6.32/virt/kvm/iommu.c:
  - redhat-kernel-version:
  - redhat-kernel-source/linux-2.6.32/.gitignore: Delete.
  - redhat-kernel-source/linux-2.6.32/check-kabi: Delete.
  - redhat-kernel-source/linux-2.6.32/crypto/signature/key.h: Delete.
  - redhat-kernel-source/linux-2.6.32/extract.pub: Delete.
  - redhat-kernel-source/linux-2.6.32/extrakeys.pub: Delete.
  - redhat-kernel-source/linux-2.6.32/kernel.pub: Delete.
  - redhat-kernel-source/linux-2.6.32/kernel.sec: Delete.
  - redhat-kernel-source/linux-2.6.32/merge.pl: Delete.
  - redhat-kernel-source/linux-2.6.32/pubring.gpg: Delete.
  - redhat-kernel-source/linux-2.6.32/random_seed: Delete.
  - redhat-kernel-source/linux-2.6.32/secring.gpg: Delete.
  - redhat-kernel-source/linux-2.6.32/temp-i686-debug-final: Delete.
  - redhat-kernel-source/linux-2.6.32/temp-i686-final: Delete.
  - redhat-kernel-source/linux-2.6.32/trustdb.gpg: Delete.

-------------------------------------------------------------------
Wed Aug 31 10:30:46 CST 2011 - gaoyang.zyh@taobao.com

- scripts/apply-patches.sh: forgot to add execute bit to it...

-------------------------------------------------------------------
Mon Aug 29 10:43:36 CST 2011 - gaoyang.zyh@taobao.com
We untar the patches package and apply them directly before,
which can't preserve the correct order of the patches. Fix
this by applying the patches with apply-patches.sh, and in
the order of series.conf.

 - scripts/apply-patches.sh:
 - scripts/mkspec.py:
 - scripts/package.py:

-------------------------------------------------------------------
Fri Aug 19 21:47:31 CST 2011 - boyu.mt@taobao.com

Backported some ext4 fixes from Ted's 3.1 pull request.

- patches.taobao/ext4-Fix-overflow-caused-by-missing-cast-in-ext4_fal.patch:
  ext4: Fix overflow caused by missing cast in ext4_fallocate().
- patches.taobao/ext4-add-tracepoint-for-ext4_journal_start.patch:
  ext4: add tracepoint for ext4_journal_start.
- patches.taobao/ext4-fix-races-in-ext4_sync_parent.patch: ext4:
  fix races in ext4_sync_parent().
- patches.taobao/ext4-free-allocated-and-pre-allocated-blocks-when-ch.patch:
  ext4: free allocated and pre-allocated blocks when
  check_eofblocks_fl fails.

-------------------------------------------------------------------
Fri Aug 12 23:46:43 CST 2011 - boyu.mt@taobao.com

Support for dealine in cfq.

- patches.taobao/cfq_request_deadline_policy.patch: cfq:
  request-deadline policy.

-------------------------------------------------------------------
Mon Aug 15 17:04:15 CST 2011 - bosong.ly@taobao.com

- patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch:
  remove #BF99632, this is another bug unrelated to the patch.

-------------------------------------------------------------------
Mon Aug 15 17:02:04 CST 2011 - bosong.ly@taobao.com

- patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch:
  Ext4: Set file system to read-only by I/O error threshold

-------------------------------------------------------------------
Wed Aug 10 23:11:43 CST 2011 - boyu.mt@taobao.com

2 Fixes selected and backported from Jens' 3.1 pull request.
The whole list and analyze of the patches list can be found at:
http://baike.corp.taobao.com/index.php/Block%E5%B1%82%E6%96%B0feature%E5%92%8Cbug_fix%E5%88%97%E8%A1%A8#fixes:

- patches.taobao/block-eliminate-potential-for-infinite-loop-in-blkde.patch:
  block: eliminate potential for infinite loop in
  blkdev_issue_discard.
- patches.taobao/block-fix-patch-import-error-in-max_discard_sectors-.patch:
  block: fix patch import error in max_discard_sectors check.

-------------------------------------------------------------------
Tue Aug  2 15:56:32 CST 2011 - bosong.ly@taobao.com

- patches.taobao/list-remove-prefetching-from-regular-list-iterators.patch:
  1) fix a compiling error introduced by modifying include/linux/list.h
  2) remove prefetch() from tools/perf/util/include/linux/list.h.

-------------------------------------------------------------------
Mon Aug  1 08:46:49 CST 2011 - bosong.ly@taobao.com

- patches.taobao/list-remove-prefetching-from-regular-list-iterators.patch:
  list: remove prefetching from regular list iterators .

-------------------------------------------------------------------
Sat Jul 16 22:33:53 CST 2011 - boyu.mt@taobao.com

Backport some mballoc fixes from upsteam ext4.

- patches.taobao/ext4-Adding-error-check-after-calling-ext4_mb_regular_allocator.patch:
  ext4: Adding error check after calling
  ext4_mb_regular_allocator().
- patches.taobao/ext4-init-statistics-after-journal-recovery.patch:
  ext4: init statistics after journal recovery.
- patches.taobao/ext4-remove-ext4_mb_return_to_preallocation.patch:
  ext4: remove ext4_mb_return_to_preallocation().
- patches.taobao/ext4-use-dedicated-slab-caches-for-group_info-structures.patch:
  ext4: use dedicated slab caches for group_info structures.

-------------------------------------------------------------------
Thu Jul 14 01:14:58 CST 2011 - bosong.ly@taobao.com

- series.conf: re-order patches, make ext4 fixes together.

-------------------------------------------------------------------
Thu Jul 14 01:09:26 CST 2011 - bosong.ly@taobao.com

- patches.taobao/ip_vs_conn_locking_granularity.patch: LVS:
  Tune the locks of connection hash table from 16 to 256.
- patches.taobao/kgdb-0001-repair-gdbstub-to-match-the-gdbserial-protocol-speci.patch:
  repair gdbstub to match the gdbserial protocol specification.

-------------------------------------------------------------------
Thu Jul 14 00:56:37 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-versiHEL6 linux-2.6.32-131.6.1 kernel.
  - MAINTAINERS:
  - patches.taobao/mm-0002-batch-free-pcp-list-if-possible.patch: Refresh.
  - patches.taobao/mm-0008-page-allocator-reduce-fragmentation-in-buddy-allocat.patch: Refresh.
  - patches.taobao/mm-0009-Fix-section-mismatch-for-setup_zone_pageset.patch: Refresh.
  - patches.taobao/mm-0010-page_alloc.c-prevent-unending-loop-in-__alloc_pag.patch: Refresh.
  - redhat-kernel-changelog:
  - redhat-kernel-source/kernel.spec:
  - redhat-kernel-source/linux-2.6.32/arch/powerpc/include/asm/ptrace.h:
  - redhat-kernel-source/linux-2.6.32/arch/powerpc/kernel/ptrace.c:
  - redhat-kernel-source/linux-2.6.32/arch/powerpc/kernel/time.c:
  - redhat-kernel-source/linux-2.6.32/arch/s390/include/asm/ptrace.h:
  - redhat-kernel-source/linux-2.6.32/arch/s390/kernel/ptrace.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/ia32/ia32entry.S:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/cpu/common.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/entry_32.S:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/entry_64.S:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/kprobes.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/ptrace.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kernel/vm86_32.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kvm/i8259.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/kvm/vmx.c:
  - redhat-kernel-source/linux-2.6.32/arch/x86/xen/enlighten.c:
  - redhat-kernel-source/linux-2.6.32/block/blk-core.c:
  - redhat-kernel-source/linux-2.6.32/block/genhd.c:
  - redhat-kernel-source/linux-2.6.32/crypto/signature/key.h:
  - redhat-kernel-source/linux-2.6.32/crypto/testmgr.h:
  - redhat-kernel-source/linux-2.6.32/drivers/net/ixgbe/ixgbe_main.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/ixgbe/ixgbe_param.c:
  - redhat-kernel-source/linux-2.6.32/drivers/net/pppol2tp.c:
  - redhat-kernel-source/linux-2.6.32/drivers/pci/intel-iommu.c:
  - redhat-kernel-source/linux-2.6.32/drivers/scsi/mpt2sas/mpt2sas_scsih.c:
  - redhat-kernel-source/linux-2.6.32/extract.pub:
  - redhat-kernel-source/linux-2.6.32/fs/ext3/ialloc.c:
  - redhat-kernel-source/linux-2.6.32/fs/gfs2/inode.c:
  - redhat-kernel-source/linux-2.6.32/fs/gfs2/ops_inode.c:
  - redhat-kernel-source/linux-2.6.32/include/linux/audit.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/backing-dev.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/genhd.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/mmzone.h:
  - redhat-kernel-source/linux-2.6.32/include/linux/ptrace.h:
  - redhat-kernel-source/linux-2.6.32/include/xen/xen.h:
  - redhat-kernel-source/linux-2.6.32/kernel.pub:
  - redhat-kernel-source/linux-2.6.32/kernel.sec:
  - redhat-kernel-source/linux-2.6.32/kernel/auditsc.c:
  - redhat-kernel-source/linux-2.6.32/kernel/cgroup.c:
  - redhat-kernel-source/linux-2.6.32/mm/backing-dev.c:
  - redhat-kernel-source/linux-2.6.32/mm/memory.c:
  - redhat-kernel-source/linux-2.6.32/mm/page_alloc.c:
  - redhat-kernel-source/linux-2.6.32/mm/slab.c:
  - redhat-kernel-source/linux-2.6.32/mm/vmscan.c:
  - redhat-kernel-source/linux-2.6.32/net/8021q/vlan.c:
  - redhat-kernel-source/linux-2.6.32/net/8021q/vlan_dev.c:
  - redhat-kernel-source/linux-2.6.32/net/core/dev.c:
  - redhat-kernel-source/linux-2.6.32/net/core/sock.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/ip_gre.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv4/ipip.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/ip6_tunnel.c:
  - redhat-kernel-source/linux-2.6.32/net/ipv6/sit.c:
  - redhat-kernel-source/linux-2.6.32/random_seed:
  - redhat-kernel-source/linux-2.6.32/trustdb.gpg:
  - redhat-kernel-version:

-------------------------------------------------------------------
Fri Jul  1 21:45:08 CST 2011 - bosong.ly@taobao.com

- patches.taobao/mm-0009-Fix-section-mismatch-for-setup_zone_pageset.patch:
  mm: Fix section mismatch for setup_zone_pageset().
- patches.taobao/mm-0010-page_alloc.c-prevent-unending-loop-in-__alloc_pag.patch:
  mm/page_alloc.c: prevent unending loop in
  __alloc_pages_slowpath().
- patches.taobao/mm-0011-disable-hugepage-and-memory-compaction-by-default.patch:
  Disable hugepage and memory compaction by default.

-------------------------------------------------------------------
Fri Jul  1 20:05:59 CST 2011 - boyu.mt@taobao.com

2 patches to sync the parent and its own inode during fsync to avoid crash.

- patches.taobao/ext4-Make-fsync-sync-new-parent-directories-in-no-jo.patch:
  ext4: Make fsync sync new parent directories in no-journal mode.
- patches.taobao/ext4-sync-the-directory-inode-in-ext4_sync_parent.patch:
  ext4: sync the directory inode in ext4_sync_parent().

-------------------------------------------------------------------
Fri Jun 24 16:13:55 CST 2011 - bosong.ly@taobao.com

- patches.taobao/mm-0006-compaction.c-avoid-double-mem_cgroup_del_lru.patch:
  Refresh to remove "lines offset" warning:
    Hunk #1 succeeded at 360 (offset 11 lines).

-------------------------------------------------------------------
Fri Jun 24 16:11:23 CST 2011 - bosong.ly@taobao.com

- Add 8 patches to improve memory compaction performance, reduce CPU systime:
  - patches.taobao/mm-0001-compaction-checks-correct-fragmentation-index.patch:
    compaction: checks correct fragmentation index.
  - patches.taobao/mm-0002-batch-free-pcp-list-if-possible.patch:
    mm: batch-free pcp list if possible.
  - patches.taobao/mm-0003-compaction-abort-compaction-if-too-many-pages-are.patch:
    mm: compaction: abort compaction if too many pages are isolated
    and caller is asynchronous V2.
  - patches.taobao/mm-0004-compaction-don-t-depend-on-HUGETLB_PAGE.patch:
    mm: compaction: don't depend on HUGETLB_PAGE.
  - patches.taobao/mm-0005-compaction-ensure-that-the-compaction-free-scanne.patch:
    mm: compaction: ensure that the compaction free scanner does
    not move to the next zone.
  - patches.taobao/mm-0006-compaction.c-avoid-double-mem_cgroup_del_lru.patch:
    mm/compaction.c: avoid double mem_cgroup_del_lru().
  - patches.taobao/mm-0007-memory-failure.c-fix-page-isolated-count-mismatch.patch:
    mm/memory-failure.c: fix page isolated count mismatch.
  - patches.taobao/mm-0008-page-allocator-reduce-fragmentation-in-buddy-allocat.patch:
    page allocator: reduce fragmentation in buddy allocator by
    adding buddies that are merging to the tail of the free lists.

-------------------------------------------------------------------
Fri Jun 24 16:07:56 CST 2011 - bosong.ly@taobao.com

- patches.taobao/perf-x86-Fix-Intel-fixed-counters-base-initializatio.patch:
  perf, x86: Fix Intel fixed counters base initialization.

-------------------------------------------------------------------
Mon Jun 20 12:42:56 CST 2011 - bosong.ly@taobao.com

- patches.taobao/perf-Find_get_context-fix-the-per-cpu-counter-check.patch:
  perf: Find_get_context: fix the per-cpu-counter check.
- patches.taobao/perf-Validate-cpu-early-in-perf_event_alloc.patch:
  perf: Validate cpu early in perf_event_alloc().
- redhat-kernel-version: move el5 to el6

-------------------------------------------------------------------
Fri Jun 17 19:15:50 CST 2011 - bosong.ly@taobao.com

- patches.taobao/ext4-set-file-system-to-read-only-by-io-error-threshold.patch:
  Ext4: set file system to read-only by I/O error threshold.

-------------------------------------------------------------------
Fri Jun 17 21:51:29 CST 2011 - boyu.mt@taobao.com

- patches.taobao/cfq_avoid_async_write_starve.patch: CFQ: Avoid
  async write starvation by allowing one dispatch at a time.

-------------------------------------------------------------------
Thu Jun 16 11:46:59 CST 2011 - bosong.ly@taobao.com

Update to 2.6.32-131.4.1.

-------------------------------------------------------------------
Wed Jun 15 19:23:39 CST 2011 - bosong.ly@taobao.com

truct taobao kernel tree, the modification includes,
1) redhat-kernel-source/ does not only include kernel source.
2) place all files from redhat kernel srpm into redhat-kernel-source/
3) decompressed redhat kernel source code placed in redhat-kernel-source/linux-2.6.32
4) other files stays in their existing location.

This change set also modifies tools in scripts/ to update with the above change.

------------------------------------------------------------------
Tue Jun 14 17:54:59 CST 2011 - bosong.ly@taobao.com

- Update config files: last commit missing -debug.config, this
  commit add the changes to -debug.config

-------------------------------------------------------------------
Tue Jun 14 17:51:54 CST 2011 - bosong.ly@taobao.com

- Update config files:
  CONFIG_CONFIGFS_FS=y
  CONFIG_NETOOPS=y
  CONFIG_NETPOLL_TARGETS=y

-------------------------------------------------------------------
Tue Jun 14 16:35:49 CST 2011 - bosong.ly@taobao.com

- patches.taobao/netoops_022_add_user_programmable_boot_id.patch:
  set CONFIG_NETPOLL_TARGETS default to y

-------------------------------------------------------------------
Tue Jun 14 12:15:50 CST 2011 - bosong.ly@taobao.com

- config.conf: remove lvs config

-------------------------------------------------------------------
Tue Jun 14 12:04:58 CST 2011 - bosong.ly@taobao.com

- remove lvs kernel package build
  - rpm/kernel.spec.in:
  - rpm/taobao-kernel-build.sh:

-------------------------------------------------------------------
Tue Jun 14 11:48:56 CST 2011 - bosong.ly@taobao.com

- Update config files:
  set CONFIG_NETPOLL_TARGETS=y, because netpoll_targets.c is not a
  kernel module.


-------------------------------------------------------------------
Tue Jun 14 11:45:05 CST 2011 - bosong.ly@taobao.com

- config/kernel-2.6.32-x86_64-lvs.config: Delete since we merge lvs config
  to kernel-2.6.32-x86_64.config.

-------------------------------------------------------------------
Mon Jun 13 10:28:08 CST 2011 - boyu.mt@taobao.com

- patches.taobao/context_switch_per_cpu_stat.patch: Add Support
  for show the context swithes number for every cpu.

-------------------------------------------------------------------
Fri Jun 10 13:50:45 CST 2011 - bosong.ly@taobao.com

- patches.taobao/ext4-don-t-show-mount-options-in-proc-mounts-if-ther.patch:
  ext4: don't show mount options in /proc/mounts if there is no
  journal (BF#95153).

-------------------------------------------------------------------
Fri Jun 10 12:33:30 CST 2011 - bosong.ly@taobao.com

- patches.driver/drbd-8.3.10.patch: add missing #undef REQ_HEARDBARRIER

-------------------------------------------------------------------
Thu Jun  9 13:26:52 CST 2011 - bosong.ly@taobao.com

- patches.driver/drbd-8.3.10.patch: add missing entry in drivers/block/Makefile

-------------------------------------------------------------------
Thu Jun  9 12:11:36 CST 2011 - bosong.ly@taobao.com

- patches.taobao/net-tcp-timewait-dynamic-config.patch: fix coding
  style volatile ISO C90 reported on kernel-el6 build.
  kernel/sysctl.c:2867: error: ISO C90 forbids mixed declarations and
  code

-------------------------------------------------------------------
Thu Jun  9 01:42:48 CST 2011 - bosong.ly@taobao.com

- patches.taobao/net-tcp-timewait-dynamic-config.patch: net:
  Change time_wait timeout value dynamically.

-------------------------------------------------------------------
Thu Jun  9 01:15:23 CST 2011 - bosong.ly@taobao.com

- Update config files for linux virtual server configuration.
  -CONFIG_IP_VS_TAB_BITS=12
  +CONFIG_IP_VS_TAB_BITS=20

-------------------------------------------------------------------
Sat Jun  4 16:19:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: add Packager to spec.

-------------------------------------------------------------------
Sat Jun  4 10:38:39 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: check if quilt exists before call it.

-------------------------------------------------------------------
Sat Jun  4 02:11:31 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: fix missing '\' which breaks rpmbuild command.

-------------------------------------------------------------------
Fri Jun  3 17:43:48 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: sync modification of 5u and master branch.

-------------------------------------------------------------------
Fri Jun  3 17:08:11 CST 2011 - bosong.ly@taobao.com

- version: add item for 2.6.32-131.2.1

-------------------------------------------------------------------
Fri Jun  3 17:05:27 CST 2011 - bosong.ly@taobao.com

- Update to linux-2.6.32-131.2.1.el6
  - Update config files.
  - redhat-kernel-changelog
  - redhat-kernel-source/
  - redhat-kernel-source/version

-------------------------------------------------------------------
Fri Jun  3 10:20:02 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: install xmlto and asciidoc before building.

-------------------------------------------------------------------
Fri Jun  3 01:57:30 CST 2011 - bosong.ly@taobao.com

- minor fixes synced from 5u branch:
  - rpm/kernel.spec.in:
  - rpm/taobao-kernel-build.sh:

-------------------------------------------------------------------
Fri Jun  3 00:40:04 CST 2011 - bosong.ly@taobao.com

- patches.taobao/netoops_015_netpoll_move_target_code_into_netpoll_targets.patch:
  replace strict_strtoul() by simple_strtoul().

-------------------------------------------------------------------
Thu Jun  2 18:36:45 CST 2011 - bosong.ly@taobao.com

- Update config files:
  - Enable DRBD config.
  - Remove SELINUX config.

-------------------------------------------------------------------
Thu Jun  2 18:19:52 CST 2011 - bosong.ly@taobao.com

- version: add version string for 2.6.32-131.0.15.el6

-------------------------------------------------------------------
Thu Jun  2 18:15:17 CST 2011 - bosong.ly@taobao.com

- Update config files: add patches.driver/drbd-8.3.10.patch
- patches.driver/drbd-8.3.10.patch: backport drbd 8.3.10 to
  RHEL6 2.6.32 kernel.

-------------------------------------------------------------------
Thu Jun  2 12:27:36 CST 2011 - bosong.ly@taobao.com

- Update config files by RHEL6.1 2.6.32-131.0.15 kernel config.

-------------------------------------------------------------------
Thu Jun  2 12:18:19 CST 2011 - bosong.ly@taobao.com

- Rebase patches to RHEL6.1 2.6.32-131.0.15 kernel:
  - patches.driver/e1000e-1.3.10a.patch
  - patches.taobao/ext4-Fix-buffer-head-leaks-after-calls-to-ext4_get_inode_loc.diff
  - patches.taobao/ext4-Fix-possible-lost-inode-write-in-no-journal-mode.diff
  - patches.taobao/ext4-Remove-extraneous-newlines-in-ext4_msg-calls.diff
  - patches.taobao/ext4-fix-kernel-oops-if-the-journal-superblock-has-a-non-zero-j_errno.diff
  - patches.taobao/flashcache.patch
  - patches.taobao/jbd2_Fix_forever_sleeping_process_in_do_get_write_access.patch
  - patches.taobao/jbd_Fix_forever_sleeping_process_in_do_get_write_access.patch
  - patches.taobao/netoops_014_netpoll_introduce_netpoll_target_configs.patch
  - patches.taobao/netoops_016_oops_pass_regs_to_oops_exit.patch
  - patches.taobao/netoops_017_kmsg_dumper_pass_pt_regs_along_to_dumpers.patch
  - patches.taobao/netoops_020_add_core_functionality.patch
  - patches.taobao/netoops_022_add_user_programmable_boot_id.patch
  - patches.taobao/pagecache_hit_accounting_002_add_func_and_structures.patch
  - patches.taobao/pagecache_hit_accounting_003_mm_add_accouting_for_pagecache.patch
  - patches.taobao/pagecache_hit_accounting_004_add_readpages_accounting.patch
- Update series.conf since some patches of Taoboa are merged into RHEL6.1 kernel.

-------------------------------------------------------------------
Thu Jun  2 11:39:19 CST 2011 - bosong.ly@taobao.com

- Update to RHEL6.1 2.6.32-131.0.15 kernel.
  - redhat-kernel-changelog:
  - redhat-kernel-source

-------------------------------------------------------------------
Wed Jun  1 12:04:11 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: if build with_perftool, add xmlto and asciidoc
  to BuildRequires.

-------------------------------------------------------------------
Mon May 23 15:04:04 CST 2011 - gaoyang.zyh@taobao.com

- MAINTAINERS: add tailai for email notify.

-------------------------------------------------------------------
Thu May 19 15:24:41 CST 2011 - bosong.ly@taobao.com

- Merge several ext4 fixes from upstream:
  - patches.taobao/ext4-Fix-buffer-head-leaks-after-calls-to-ext4_get_inode_loc.diff:
  - patches.taobao/ext4-Fix-possible-lost-inode-write-in-no-journal-mode.diff: (BF:#91500)
  - patches.taobao/ext4-Remove-extraneous-newlines-in-ext4_msg-calls.diff:
  - patches.taobao/ext4-fix-kernel-oops-if-the-journal-superblock-has-a-non-zero-j_errno.diff:

-------------------------------------------------------------------
Mon May 16 19:29:09 CST 2011 - gaoyang.zyh@taobao.com

- patches.taobao/pci-fix-mmap-addr-check.patch: fix for Bug94041.
 pci_mmap_fits() didn't handle pci mmap via proc properly.

-------------------------------------------------------------------
Fri May 13 21:38:16 CST 2011 - bosong.ly@taobao.com

- Refresh patches.driver/e1000e-1.3.10a.patch, last commit
  is incompleted.

-------------------------------------------------------------------
Fri May 13 20:16:04 CST 2011 - bosong.ly@taobao.com

- patches.driver/e1000e-1.3.10a.patch: backport e1000e-1.3.10a
  driver to RHEL6 2.6.32 kernel.

-------------------------------------------------------------------
Wed May 11 12:24:30 CST 2011 - bosong.ly@taobao.com

- Update config files: add CONFIG_NETOOPS=m

-------------------------------------------------------------------
Wed May 11 02:55:53 CST 2011 - bosong.ly@taobao.com

- version: add entry for linux-2.6.32-71.29.1.el6.

-------------------------------------------------------------------
Wed May 11 02:54:29 CST 2011 - bosong.ly@taobao.com

- Update to linux-2.6.32-71.29.1.el6:
  - redhat-kernel-changelog:
  - redhat-kernel-source/arch/x86/kernel/efi_64.c:
  - redhat-kernel-source/crypto/signature/key.h:
  - redhat-kernel-source/drivers/char/tty_audit.c:
  - redhat-kernel-source/drivers/firmware/dcdbas.c:
  - redhat-kernel-source/drivers/gpu/drm/drm_irq.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r100.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r100_track.h:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r300.c:
  - redhat-kernel-source/drivers/gpu/drm/radeon/r300_reg.h:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/r300:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/r420:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/rs600:
  - redhat-kernel-source/drivers/gpu/drm/radeon/reg_srcs/rv515:
  - redhat-kernel-source/drivers/infiniband/core/uverbs_cmd.c:
  - redhat-kernel-source/drivers/media/video/sn9c102/sn9c102_core.c:
  - redhat-kernel-source/drivers/mfd/ab3100-core.c:
  - redhat-kernel-source/drivers/net/bonding/bond_alb.c:
  - redhat-kernel-source/drivers/net/bonding/bond_ipv6.c:
  - redhat-kernel-source/drivers/net/bonding/bond_main.c:
  - redhat-kernel-source/drivers/net/ixgbe/Makefile:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe.h:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe_main.c:
  - redhat-kernel-source/drivers/net/ixgbe/ixgbe_param.c:
  - redhat-kernel-source/drivers/pci/pci-acpi.c:
  - redhat-kernel-source/drivers/pci/pcie/aspm.c:
  - redhat-kernel-source/drivers/platform/x86/acer-wmi.c:
  - redhat-kernel-source/drivers/platform/x86/tc1100-wmi.c:
  - redhat-kernel-source/drivers/scsi/aic94xx/aic94xx_init.c:
  - redhat-kernel-source/drivers/scsi/device_handler/scsi_dh.c:
  - redhat-kernel-source/drivers/scsi/megaraid/megaraid_sas.c:
  - redhat-kernel-source/extract.pub:
  - redhat-kernel-source/fs/notify/inotify/inotify_fsnotify.c:
  - redhat-kernel-source/fs/notify/inotify/inotify_user.c:
  - redhat-kernel-source/fs/proc/array.c:
  - redhat-kernel-source/fs/xfs/linux-2.6/xfs_ioctl.c:
  - redhat-kernel-source/fs/xfs/xfs_fsops.c:
  - redhat-kernel-source/include/drm/drmP.h:
  - redhat-kernel-source/include/linux/netdevice.h:
  - redhat-kernel-source/include/linux/pci-aspm.h:
  - redhat-kernel-source/kernel.pub:
  - redhat-kernel-source/kernel.sec:
  - redhat-kernel-source/kernel/exit.c:
  - redhat-kernel-source/mm/vmscan.c:
  - redhat-kernel-source/net/8021q/vlan.c:
  - redhat-kernel-source/net/8021q/vlan_core.c:
  - redhat-kernel-source/net/8021q/vlan_dev.c:
  - redhat-kernel-source/net/bluetooth/bnep/sock.c:
  - redhat-kernel-source/net/bridge/br_input.c:
  - redhat-kernel-source/net/bridge/netfilter/ebtables.c:
  - redhat-kernel-source/net/can/bcm.c:
  - redhat-kernel-source/net/core/dev.c:
  - redhat-kernel-source/net/dccp/input.c:
  - redhat-kernel-source/net/ipv4/ip_gre.c:
  - redhat-kernel-source/net/ipv4/ipip.c:
  - redhat-kernel-source/net/ipv4/netfilter/ipt_CLUSTERIP.c:
  - redhat-kernel-source/net/ipv6/sit.c:
  - redhat-kernel-source/net/sctp/sm_make_chunk.c:
  - redhat-kernel-source/random_seed:
  - redhat-kernel-source/security/integrity/ima/ima_policy.c:
  - redhat-kernel-source/sound/pci/hda/patch_nvhdmi.c:
  - redhat-kernel-source/sound/usb/caiaq/audio.c:
  - redhat-kernel-source/sound/usb/caiaq/midi.c:
  - redhat-kernel-source/trustdb.gpg:
  - redhat-kernel-source/version:

-------------------------------------------------------------------
Wed May 11 02:03:35 CST 2011 - bosong.ly@taobao.com

- merge netoops patch set:
  - patches.taobao/netoops_001_kmsg_dumper_call_on_oops_and_panics.patch:
    kmsg_dumper: call on oops and panics.
  - patches.taobao/netoops_002_netconsole_remove_unneeded_reference_counter.patch:
    netconsole: remove unneeded reference counter for netconsole_target.
  - patches.taobao/netoops_003_netconsole_introduce_locking_over_the_netpoll_fields.patch:
    netconsole: introduce locking over the netpoll fields.
  - patches.taobao/netoops_004_netconsole_introduce_enabled_state_machine.patch:
    netconsole: introduce 'enabled" state machine.
  - patches.taobao/netoops_005_netconsole_call_netpoll_cleanup_in_process_context.patch:
    netconsole: call netpoll_cleanup() in process context.
  - patches.taobao/netoops_006_netconsole_wrap_the_list_and_locking_in_a_structure.patch:
    netconsole: wrap the list and locking in a structrue.
  - patches.taobao/netoops_007_netconsole_push_configfs_subsystem_into_netpoll_targets.patch:
    netconsole: push configfs subsystem into netpoll_targets.
  - patches.taobao/netoops_008_netconsole_move_netdev_notifier_into_netpoll_targets.patch:
    netconsole: move netdev_notifier into netpoll_targets.
  - patches.taobao/netoops_009_netconsole_split_out_netpoll_targets_init_exit.patch:
    netconsole: split out netpoll_targets init/exit.
  - patches.taobao/netoops_010_netconsole_add_pointer_to_netpoll_targets.patch:
    netconsole: add pointer to netpoll_targets.
  - patches.taobao/netoops_011_netconsole_rename_netconsole_target_to_netpoll_target.patch:
    netconsole: rename netconsole_target -> netpoll_target.
  - patches.taobao/netoops_012_netconsole_abstract_away_the_subsystem_name.patch:
    netconsole: abstract away the subsystem name.
  - patches.taobao/netoops_013_netconsole_move_setting_of_default_ports.patch:
    netconsole: move setting of default ports.
  - patches.taobao/netoops_014_netpoll_introduce_netpoll_target_configs.patch:
    netpoll: introduce netpoll_target configs.
  - patches.taobao/netoops_015_netpoll_move_target_code_into_netpoll_targets.patch:
    netpoll: move target code into netpoll_targets.c.
  - patches.taobao/netoops_016_oops_pass_regs_to_oops_exit.patch:
    oops: pass pt_regs along to oops_exit.
  - patches.taobao/netoops_017_kmsg_dumper_pass_pt_regs_along_to_dumpers.patch:
    kmsg_dumper: pass pt_regs along to dumpers.
  - patches.taobao/netoops_018_kmsg_dumper_introduce_a_new_soft_dump_reason.patch:
    kmsg_dumper: introduce a new 'SOFT' dump reason.
  - patches.taobao/netoops_019_sysrq_add_option_to_soft_dump.patch:
    sys-rq: add option to soft dump.
  - patches.taobao/netoops_020_add_core_functionality.patch:
    netoops: add core functionality.
  - patches.taobao/netoops_021_add_x86_specific_bits_to_packet_headers.patch:
    netoops: add x86 specific bits to packet headers.
  - patches.taobao/netoops_022_add_user_programmable_boot_id.patch:
    netoops: add user programmable boot id.
  - patches.taobao/netoops_023_add_a_user_programmable_blob_to_the_netoops_packet.patch:
    netoops: add a user programmable blob to the netoops_packet.
  - patches.taobao/netoops_024_add_oom_event.patch: netoops:
    add OOM event into netoops.

- add series number to pagecache hit accounting patch set.
  - patches.taobao/pagecache_hit_accounting_001_Kconfig.patch:
    x86/Kconfig: Add Page Cache Accounting entry.
  - patches.taobao/pagecache_hit_accounting_002_add_func_and_structures.patch:
    block: Add functions and data types for Page Cache Accounting.
  - patches.taobao/pagecache_hit_accounting_003_mm_add_accouting_for_pagecache.patch:
    mm: Add hit/miss accounting for Page Cache.
  - patches.taobao/pagecache_hit_accounting_004_add_readpages_accounting.patch:
    mm: Add readpages accounting.

-------------------------------------------------------------------
Fri May  6 22:54:05 CST 2011 - boyu.mt@taobao.com

These 2 fixes will be committed into upstream soon.

- patches.taobao/jbd2_Fix_forever_sleeping_process_in_do_get_write_access.patch:
  jbd2: Fix forever sleeping process in do_get_write_access().
- patches.taobao/jbd_Fix_forever_sleeping_process_in_do_get_write_access.patch:
  jbd: Fix forever sleeping process in do_get_write_access().

-------------------------------------------------------------------
Tue May  3 12:40:58 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: fix a set of typos:
 - %%COMMITID%%, based on Redhat %%RHELBASE%%.\
 + %%COMMITID%%, based on Redhat %%RHELBASE%%.

-------------------------------------------------------------------
Wed Apr 20 12:00:58 CST 2011 - boyu.mt@taobao.com

- Update config files.
- patches.taobao/flashcache.patch:
Patch ported from flashcache.
https://github.com/facebook/flashcache.git
This patch correponding to top commit a21bb2ef.

-------------------------------------------------------------------
Tue Apr 19 15:31:55 CST 2011 - boyu.mt@taobao.com

The new pagecache hit accounting patches uses trace points.

- patches.taobao/pagecache_hit_accounting_Kconfig.patch:
  x86/Kconfig: Add Page Cache Accounting entry.
- patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
  block: Add functions and data types for Page Cache Accounting.
- patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
  mm: Add readpages accounting.
- patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
  mm: Add hit/miss accounting for Page Cache.

-------------------------------------------------------------------
Tue Apr 19 15:26:04 CST 2011 - boyu.mt@taobao.com

Remove the old version of page caches account from tailai.
The new one will be added in another patch.

- patches.taobao/pagecache_hit_accounting_Kconfig.patch: Delete.
- patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
  Delete.
- patches.taobao/pagecache_hit_accounting_sysfs_interface.patch:
  Delete.

-------------------------------------------------------------------
Fri Apr 15 20:50:43 CST 2011 - bosong.ly@taobao.com

- Update config files: set CONFIG_BLK_DEV_SD=y

-------------------------------------------------------------------
Fri Apr 15 18:52:49 CST 2011 - bosong.ly@taobao.com

- Update config files: copy kernel-2.6.32-x86_64.config to kernel-2.6.32-x86_64-lvs.config, 
  because we don't have a lvs kconfig yet.

-------------------------------------------------------------------
Fri Apr 15 18:32:09 CST 2011 - bosong.ly@taobao.com

- Update config files, sync modification from linux-2.6.32-71.24.1.el6.
  - kernel-2.6.32-x86_64-debug.config
  - kernel-2.6.32-x86_64.config

-------------------------------------------------------------------
Fri Apr 15 16:06:58 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-changelog: remove redundant head "%changelog"

-------------------------------------------------------------------
Fri Apr 15 15:54:36 CST 2011 - bosong.ly@taobao.com

- version: add entry for linux-2.6.32-71.24.1.el6.

-------------------------------------------------------------------
Fri Apr 15 15:52:06 CST 2011 - bosong.ly@taobao.com

- Update to linux-2.6.32-71.24.1.el6:
 - redhat-kernel-changelog:
 - redhat-kernel-source/.gitignore:
 - redhat-kernel-source/Documentation/sysctl/kernel.txt:
 - redhat-kernel-source/arch/powerpc/kernel/head_64.S:
 - redhat-kernel-source/arch/s390/Kconfig.debug:
 - redhat-kernel-source/arch/s390/crypto/sha_common.c:
 - redhat-kernel-source/arch/s390/include/asm/crash.h:
 - redhat-kernel-source/arch/s390/include/asm/page.h:
 - redhat-kernel-source/arch/s390/include/asm/processor.h:
 - redhat-kernel-source/arch/s390/kernel/traps.c:
 - redhat-kernel-source/arch/s390/kernel/vtime.c:
 - redhat-kernel-source/arch/x86/include/asm/io.h:
 - redhat-kernel-source/arch/x86/kernel/apic/apic.c:
 - redhat-kernel-source/arch/x86/kernel/apic/io_apic.c:
 - redhat-kernel-source/arch/x86/kernel/apic/probe_64.c:
 - redhat-kernel-source/arch/x86/kernel/crash_dump_64.c:
 - redhat-kernel-source/arch/x86/kvm/vmx.c:
 - redhat-kernel-source/arch/x86/kvm/x86.c:
 - redhat-kernel-source/crypto/signature/key.h:
 - redhat-kernel-source/drivers/char/virtio_console.c:
 - redhat-kernel-source/drivers/infiniband/core/cm.c:
 - redhat-kernel-source/drivers/infiniband/core/cma.c:
 - redhat-kernel-source/drivers/media/dvb/ttpci/av7110_ca.c:
 - redhat-kernel-source/drivers/net/cnic.c:
 - redhat-kernel-source/drivers/net/cxgb3/cxgb3_main.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_common.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_fcoe.c:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_fcoe.h:
 - redhat-kernel-source/drivers/net/ixgbe/ixgbe_sriov.c:
 - redhat-kernel-source/drivers/net/r8169.c:
 - redhat-kernel-source/drivers/net/virtio_net.c:
 - redhat-kernel-source/drivers/net/wireless/orinoco/wext.c:
 - redhat-kernel-source/drivers/pci/dmar.c:
 - redhat-kernel-source/drivers/pci/quirks.c:
 - redhat-kernel-source/drivers/scsi/fcoe/fcoe.c:
 - redhat-kernel-source/drivers/usb/misc/iowarrior.c:
 - redhat-kernel-source/extract.pub:
 - redhat-kernel-source/fs/cifs/cifs_dfs_ref.c:
 - redhat-kernel-source/fs/cifs/cifsproto.h:
 - redhat-kernel-source/fs/cifs/connect.c:
 - redhat-kernel-source/fs/cifs/dns_resolve.c:
 - redhat-kernel-source/fs/cifs/netmisc.c:
 - redhat-kernel-source/fs/exec.c:
 - redhat-kernel-source/fs/proc/array.c:
 - redhat-kernel-source/include/linux/kernel.h:
 - redhat-kernel-source/include/net/sctp/sm.h:
 - redhat-kernel-source/include/net/sctp/structs.h:
 - redhat-kernel-source/kernel.pub:
 - redhat-kernel-source/kernel.sec:
 - redhat-kernel-source/kernel/printk.c:
 - redhat-kernel-source/kernel/sysctl.c:
 - redhat-kernel-source/kernel/timer.c:
 - redhat-kernel-source/mm/mmap.c:
 - redhat-kernel-source/mm/vmalloc.c:
 - redhat-kernel-source/net/bridge/br_multicast.c:
 - redhat-kernel-source/net/core/dev.c:
 - redhat-kernel-source/net/core/ethtool.c:
 - redhat-kernel-source/net/sctp/input.c:
 - redhat-kernel-source/net/sctp/sm_sideeffect.c:
 - redhat-kernel-source/net/sctp/transport.c:
 - redhat-kernel-source/random_seed:
 - redhat-kernel-source/security/Kconfig:
 - redhat-kernel-source/security/commoncap.c:
 - redhat-kernel-source/temp-i686-debug-final:
 - redhat-kernel-source/temp-i686-final:
 - redhat-kernel-source/trustdb.gpg:
 - redhat-kernel-source/version:

-------------------------------------------------------------------
Tue Mar 29 16:11:25 CST 2011 - bosong.ly@taobao.com

- series.conf: disable page cache accounting patches, will re-enable
  them when implemented by trace.

-------------------------------------------------------------------
Wed Mar 16 14:43:09 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: we use kernel-source.changes as taobao-kernel.changes.

-------------------------------------------------------------------
Tue Mar 15 09:40:35 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: two package descriptions sill need the '\'.

-------------------------------------------------------------------
Mon Mar 14 17:09:05 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: fixed a typo (a redundancy '\')
- scripts/gitlog2changes: use TZ=Asia/Shanghai instead of CET.

-------------------------------------------------------------------
Mon Mar 14 14:38:55 CST 2011 - gaoyang.zyh@taobao.com

- Use RHEL's origin changelog in .spec instead of our own one.
  Taobao's changelog will be copied into /lib/modules/{KVER} instead.
    - redhat-kernel-changelog:
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:
    - scripts/package.py:

-------------------------------------------------------------------
Mon Mar 14 14:22:29 CST 2011 - gaoyang.zyh@taobao.com

- Use RHEL's origin changelog in .spec instead of our own one.
  Taobao's changelog will be copied into /lib/modules/{KVER} instead.
    - redhat-kernel-changelog:
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:
    - scripts/package.py:

-------------------------------------------------------------------
Fri Mar 11 21:39:04 CST 2011 - boyu.mt@taobao.com

- patches.taobao/blktrace-Don-t-output-messages-if-NOTIFY-isn-t-set.patch:
  blktrace: Don't output messages if NOTIFY isn't set.

-------------------------------------------------------------------
Fri Mar 11 20:08:04 CST 2011 - bosong.ly@taobao.com

- Update config files:
  - config MEGARAID_xxx config as kernel modules
  - sync lvs kconfig from stardand kconfig

-------------------------------------------------------------------
Fri Mar 11 16:28:14 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: remove  squashfs-tools and wireless-tools
  dependences, almost all online machines may complain the dependency
  conflict when updating kernel while they don't need these 2
  packages.

-------------------------------------------------------------------
Fri Mar 11 14:26:28 CST 2011 - bosong.ly@taobao.com

- move two patches from redhat-kernel-source to patches.taobao:
  - patches.taobao/Makefile_fix_CPP_PATCH_number_assignment_error.patch
  - patches.taobao/remove_-Werror_for_out-of-tree_modules.patch

-------------------------------------------------------------------
Fri Mar 11 12:07:05 CST 2011 - bosong.ly@taobao.com

- version: upgrade to linux-2.6.32-71.18.2.el6

-------------------------------------------------------------------
Fri Mar 11 12:03:38 CST 2011 - bosong.ly@taobao.com

- upgrade to linux-2.6.32-71.18.2.el6.

-------------------------------------------------------------------
Thu Mar 10 22:33:25 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: enable build with perf and dracut.

-------------------------------------------------------------------
Thu Mar 10 22:26:29 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: fixed a typo.

-------------------------------------------------------------------
Thu Mar 10 17:19:38 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: remove squashfs-tools and wireless-tools
  dependency.

-------------------------------------------------------------------
Thu Mar 10 16:15:47 CST 2011 - bosong.ly@taobao.com

- merge from branch master.

-------------------------------------------------------------------
Thu Mar 10 16:10:30 CST 2011 - bosong.ly@taobao.com

- Update config files,
  * modified: config/kernel-2.6.32-x86_64.config, set
    CONFIG_PRINTK_TIME=y
  * modified: config/kernel-2.6.32-x86_64-debug.config, sync the
    non-debug config items made in config/kernel-2.6.32-x86_64.config.

-------------------------------------------------------------------
Thu Mar 10 15:53:15 CST 2011 - bosong.ly@taobao.com

- scripts/mkspec.py: add comments on the code where assembling
   pkg_release string. For different distribution (el5, el6), the
   last dist string should be modified.

-------------------------------------------------------------------
Thu Mar 10 15:47:56 CST 2011 - bosong.ly@taobao.com

- scripts/mkspec.py: modify distribution list from .el6 to .master for pkg_release.

-------------------------------------------------------------------
Wed Mar  9 12:30:14 CST 2011 - bosong.ly@taobao.com

- config/kernel-2.6.32-x86_64.config: remove useless kernel config
  * CAN (Control Area Network)
  * BT (Blue Tooth)
  * RF (Radio Frequency)
  * MACINTOSH_DRIVERS (Macintosh drivers)
  * ISDN
  * V4l
  * SND (Sound Card Drivers)
  * TABLET
  * MEDIA (Media Drivers)
  * A11Y (Accessibility Driver)

-------------------------------------------------------------------
Tue Mar  8 20:47:56 CST 2011 - bosong.ly@taobao.com

- merge from "master" branch.
- scripts/mkspec.py: fix a merge confliction.

-------------------------------------------------------------------
Tue Mar  8 20:42:57 CST 2011 - bosong.ly@taobao.com

- Update config files to build metaraid_sas into core,
  * config/kernel-2.6.32-x86_64-debug.config
  * config b/config/kernel-2.6.32-x86_64-lvs.config
  * config/kernel-2.6.32-x86_64.config
	+CONFIG_MEGARAID_MM=y
	+CONFIG_MEGARAID_MAILBOX=y
	+CONFIG_MEGARAID_LEGACY=y
	+CONFIG_MEGARAID_SAS=y

-------------------------------------------------------------------
Tue Mar  8 11:04:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use 'tb{n}' instead of '{n}tb' in buildid.

-------------------------------------------------------------------
Tue Mar  8 11:00:45 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use 'tb{n}' instead of '{n}tb' in buildid.

-------------------------------------------------------------------
Mon Mar  7 15:41:45 CST 2011 - gaoyang.zyh@taobao.com

- Update config files. Sync this placeholder config with the base config.

-------------------------------------------------------------------
Mon Mar  7 15:40:00 CST 2011 - gaoyang.zyh@taobao.com

- Reconstruct the packaging naming rule. Now we use something like
kernel-2.6.32-18.7.1.100tb.el6.x86_64.rpm.
    - rpm/kernel.spec.in:
    - scripts/mkspec.py:

-------------------------------------------------------------------
Fri Mar  4 20:39:23 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: change dist from .master to .el6
	-%define dist .master
	+%define dist .el6

-------------------------------------------------------------------
Fri Mar  4 20:33:18 CST 2011 - bosong.ly@taobao.com

- Update config files to enable page cache hit accounting
  config/kernel-2.6.32-x86_64.config
  config/kernel-2.6.32-x86_64-debug.config

-------------------------------------------------------------------
Fri Mar  4 20:20:45 CST 2011 - bosong.ly@taobao.com

- Add page cache hit accounting patch set into taobao kernel tree.
  This is the first effort, patches are not upstream yet.
  * patches.taobao/pagecache_hit_accounting_Kconfig.patch:
    x86/Kconfig: Add Page Cache Accounting entry.
  * patches.taobao/pagecache_hit_accounting_add_func_and_structures.patch:
    block: Add functions and data types for Page Cache.
  * patches.taobao/pagecache_hit_accounting_add_readpages_accounting.patch:
    mm: Add readpages accounting.
  * patches.taobao/pagecache_hit_accounting_mm_add_accouting_for_pagecache.patch:
    mm: Add hit/miss accounting for Page Cache.
  * patches.taobao/pagecache_hit_accounting_sysfs_interface.patch:
    block: Make Page Cache counters work with sysfs.

-------------------------------------------------------------------
Fri Mar  4 17:57:23 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: add m4.

-------------------------------------------------------------------
Thu Mar  3 20:12:38 CST 2011 - bosong.ly@taobao.com

- rpm/kernel.spec.in: comment out kabi check file,
        Source30: Module.kabi_i686
        Source33: Module.kabi_x86_64
  since we don't check kabi currently.

-------------------------------------------------------------------
Thu Mar  3 18:11:10 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: change dist from .el6 to master in master branch.

-------------------------------------------------------------------
Thu Mar  3 18:02:47 CST 2011 - bosong.ly@taobao.com

- scripts/seq-patch.py: change typo "refresh_patch.py" to "refresh_patch.sh", to fix
  an invalid symbolic link in patched output directory.

-------------------------------------------------------------------
Thu Mar  3 14:38:21 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: enable debuginfo package.

-------------------------------------------------------------------
Thu Mar  3 14:12:32 CST 2011 - gaoyang.zyh@taobao.com

- redhat-kernel-source/Makefile: Remove the -Werror for out-of-tree modules for now. 
This is a workaround.
It was called unexpectly by rpmbuild on rhel6 which has a newer GCC. Once we get to know
how it is involved we may restore it later.

-------------------------------------------------------------------
Thu Mar  3 10:05:53 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: disable build of perf.

-------------------------------------------------------------------
Wed Mar  2 16:51:17 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64-debug.conf.
  Change Redhat debug Kconfig to our own debug Kconfig.

-------------------------------------------------------------------
Wed Mar  2 16:49:43 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64.config, modify
  preempt mode from Desktop to Server.
	* set item:
	+CONFIG_PREEMPT_NONE=y
	* removed item:
	-CONFIG_PREEMPT_VOLUNTARY=y

-------------------------------------------------------------------
Wed Mar  2 15:58:12 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64.config, to support /proc/config.gz.
	* set items:
	+CONFIG_IKCONFIG=y
	+CONFIG_IKCONFIG_PROC=y

-------------------------------------------------------------------
Wed Mar  2 11:23:55 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: The spec marco ${SOURCEn} can't be expand in ``,
   so let's use the script's name directly here.

-------------------------------------------------------------------
Wed Mar  2 11:03:59 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: add a new script to get arch instead of using the artificial mark in .config.
- scripts/getarch.py:
- scripts/package.py:

-------------------------------------------------------------------
Wed Mar  2 10:06:00 CST 2011 - gaoyang.zyh@taobao.com

- Update config files:missing arch in the head.

-------------------------------------------------------------------
Tue Mar  1 23:05:08 CST 2011 - bosong.ly@taobao.com

- config.conf: remove i686 config since currently most of machine to
  be supported are x86_64 platform.

-------------------------------------------------------------------
Tue Mar  1 22:43:05 CST 2011 - bosong.ly@taobao.com

- Update config files: config/kernel-2.6.32-x86_64-debug.config,
  config/kernel-2.6.32-x86_64.config, synced from 5u4 kernel
  config.
      * set items:
        +CONFIG_NR_CPUS=256
        +CONFIG_ARPD=y
        +CONFIG_MAC80211_MESH=y
        +CONFIG_MAC80211_DEBUGFS=y
        +CONFIG_DEBUG_DEVRES=y
        +CONFIG_BLK_DEV_SD=y
        +CONFIG_THRUSTMASTER_FF=y
        +CONFIG_ZEROPLUS_FF=y
      * removed items:
        -CONFIG_MAXSMP=y
        -CONFIG_NR_CPUS=4096
        -CONFIG_MTD_PMC551=m
        -CONFIG_BLK_DEV_SD=m
        -CONFIG_CPUMASK_OFFSTACK=y

-------------------------------------------------------------------
Tue Mar  1 19:32:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: install python-devel for building perf.

-------------------------------------------------------------------
Tue Mar  1 17:42:52 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: append more BuildRequires for perf tools.

-------------------------------------------------------------------
Tue Mar  1 16:11:13 CST 2011 - gaoyang.zyh@taobao.com

- redhat-kernel-source/version: 
- scripts/config.py: use flat source dir instead of tarball.
- scripts/mkspec.py:
- scripts/package.py:
- scripts/seq-patch.py:

-------------------------------------------------------------------
Tue Mar  1 15:48:26 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-source/Makefile: fix CPP_PATCH number assignment error.

-------------------------------------------------------------------
Tue Mar  1 15:21:33 CST 2011 - bosong.ly@taobao.com

- Update config/kernel-2.6.32-x86_64.config, includes
  * set items:
	+CONFIG_SYSFS_DEPRECATED=y
	+CONFIG_SYSFS_DEPRECATED_V2=y
	+CONFIG_CC_OPTIMIZE_FOR_SIZE=y
	+CONFIG_CALGARY_IOMMU_ENABLED_BY_DEFAULT=y
	+CONFIG_SECCOMP=y
	+CONFIG_PM_DEBUG=y
	+CONFIG_CAN_PM_TRACE=y
	+CONFIG_PM_TRACE=y
	+CONFIG_PM_TRACE_RTC=y
	+CONFIG_SCTP_HMAC_SHA1=y
	+CONFIG_BLK_CPQ_DA=m
	+CONFIG_SCSI_ACARD=m
	+CONFIG_SCSI_AIC7XXX_OLD=m
	+CONFIG_MEGARAID_LEGACY=m
	+CONFIG_SCSI_GDTH=m
	+CONFIG_SCSI_QLOGIC_1280=m
	+CONFIG_SCSI_DC395x=m
	+CONFIG_PATA_CMD640_PCI=m
	+CONFIG_PATA_CS5520=m
	+CONFIG_PATA_CS5530=m
	+CONFIG_PATA_CYPRESS=m
	+CONFIG_PATA_EFAR=m
	+CONFIG_PATA_TRIFLEX=m
	+CONFIG_PATA_MPIIX=m
	+CONFIG_PATA_NS87410=m
	+CONFIG_PATA_NS87415=m
	+CONFIG_PATA_OPTI=m
	+CONFIG_PATA_OPTIDMA=m
	+CONFIG_PATA_WINBOND=m
	+CONFIG_MD_MULTIPATH=m
	+CONFIG_RT2800USB=m
	+CONFIG_RT2X00_LIB_HT=y
	+CONFIG_HP_WATCHDOG=m
	+CONFIG_DRM_I810=m
	+CONFIG_DRM_I830=m
	+CONFIG_FB_KYRO=m
	+CONFIG_FB_METRONOME=m
	+CONFIG_FB_MB862XX=m
	+CONFIG_FB_MB862XX_PCI_GDC=y
	+CONFIG_DRAGONRISE_FF=y
	+CONFIG_LOGITECH_FF=y
	+CONFIG_LOGIRUMBLEPAD2_FF=y
	+CONFIG_PANTHERLORD_FF=y
	+CONFIG_GREENASIA_FF=y
	+CONFIG_USB_EHCI_HCD=m
	+CONFIG_USB_OHCI_HCD=m
	+CONFIG_USB_UHCI_HCD=m
	+CONFIG_USB_TRANCEVIBRATOR=m
	+CONFIG_MMC_WBSD=m
	+CONFIG_ACCESSIBILITY=y
	+CONFIG_A11Y_BRAILLE_CONSOLE=y
	+CONFIG_INFINIBAND_AMSO1100=m
	+CONFIG_INFINIBAND_IPOIB_DEBUG_DATA=y
	+CONFIG_EXT3_FS=y
	+CONFIG_EXT4_FS=y
	+CONFIG_JBD=y
	+CONFIG_JBD2=y
	+CONFIG_JBD2_DEBUG=y
	+CONFIG_FS_MBCACHE=y
	+CONFIG_UNUSED_SYMBOLS=y
	+CONFIG_LATENCYTOP=y
	+CONFIG_WORKQUEUE_TRACER=y
	+CONFIG_CRC_T10DIF=y

 * removed items:
	-CONFIG_ARCH_MEMORY_PROBE=y
	-CONFIG_MEMORY_HOTPLUG=y
	-CONFIG_MEMORY_HOTPLUG_SPARSE=y
	-CONFIG_ARCH_ENABLE_MEMORY_HOTREMOVE=y
	-CONFIG_ACPI_HOTPLUG_MEMORY=y
	-CONFIG_ACPI_HOTPLUG_MEMORY_AUTO_ONLINE=y
	-CONFIG_SCTP_HMAC_MD5=y
	-CONFIG_WAN=y
	-CONFIG_HDLC=m
	-CONFIG_HDLC_RAW=m
	-CONFIG_HDLC_CISCO=m
	-CONFIG_HDLC_FR=m
	-CONFIG_HDLC_PPP=m
	-CONFIG_DLCI=m
	-CONFIG_DLCI_MAX=8
	-CONFIG_MISDN_AVMFRITZ=m
	-CONFIG_MISDN_SPEEDFAX=m
	-CONFIG_MISDN_INFINEON=m
	-CONFIG_MISDN_W6692=m
	-CONFIG_MISDN_NETJET=m
	-CONFIG_MISDN_IPAC=m
	-CONFIG_MISDN_ISAR=m
	-CONFIG_USB_EHCI_HCD=y
	-CONFIG_USB_OHCI_HCD=y
	-CONFIG_USB_UHCI_HCD=y
	-CONFIG_EXT3_FS=m
	-CONFIG_EXT4_FS=m
	-CONFIG_JBD=m
	-CONFIG_JBD2=m
	-CONFIG_FS_MBCACHE=m
	-CONFIG_CRC_T10DIF=m

-------------------------------------------------------------------
Tue Mar  1 15:08:45 CST 2011 - bosong.ly@taobao.com
- Delete i386 kernel config, becauwe we don't support 32bit machine currently.
 * config/kernel-2.6.32-i686-debug.config
 * config/kernel-2.6.32-i686-lvs.config
 * config/kernel-2.6.32-i686.config

-------------------------------------------------------------------
Tue Mar  1 15:04:41 CST 2011 - bosong.ly@taobao.com

- redhat-kernel-source/version: add a file to indecate current redhat upstream kernel version

-------------------------------------------------------------------
Mon Feb 28 19:36:29 CST 2011 - bosong.ly@taobao.com

- version: update version log to linux-2.6.32-71.18.1.el6.

-------------------------------------------------------------------
Mon Feb 28 19:34:27 CST 2011 - bosong.ly@taobao.com

- update redhat-kernel-source to linux-2.6.32-71.18.1.el6.

-------------------------------------------------------------------
Mon Feb 28 19:15:51 CST 2011 - bosong.ly@taobao.com

- add a redhat kernel upstream directory
  * linux-2.6.32-71.7.1.el6.tar.bz2: Delete.
  * redhat-kernel-source/: a directory to maintain redhat upstream kernel tree.

-------------------------------------------------------------------
Mon Feb 28 16:17:56 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: fix a typo

-------------------------------------------------------------------
Mon Feb 28 15:50:36 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: tuned default options.
- rpm/taobao-kernel-build.sh: changed rpmbuild options aligned with kernel.spec.in changes.

-------------------------------------------------------------------
Thu Feb 24 11:11:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: test lvs build, disable debuginfo temporarily.

-------------------------------------------------------------------
Thu Feb 24 10:44:43 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: move default buildid lines to parse_opt() to avoid warnings.

-------------------------------------------------------------------
Thu Feb 24 10:19:55 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: use buildid=1 if buildid is not specified.

-------------------------------------------------------------------
Wed Feb 23 19:25:58 CST 2011 - gaoyang.zyh@taobao.com

- config.conf: reconstruct config files.
- Update config files.
- rpm/kernel.spec.in:
- config/config-debug: Delete.
- config/config-debug-rhel: Delete.
- config/config-generic: Delete.
- config/config-generic-rhel: Delete.
- config/config-i686: Delete.
- config/config-i686-debug: Delete.
- config/config-i686-debug-rhel: Delete.
- config/config-i686-nodebug: Delete.
- config/config-i686-nodebug-rhel: Delete.
- config/config-i686-rhel: Delete.
- config/config-nodebug: Delete.
- config/config-nodebug-rhel: Delete.
- config/config-x86-generic: Delete.
- config/config-x86-generic-rhel: Delete.
- config/config-x86_64-debug: Delete.
- config/config-x86_64-debug-rhel: Delete.
- config/config-x86_64-generic: Delete.
- config/config-x86_64-generic-rhel: Delete.
- config/config-x86_64-nodebug: Delete.
- config/config-x86_64-nodebug-rhel: Delete.

-------------------------------------------------------------------
Tue Feb 22 15:26:32 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: because some boxes may mount /tmp on different physical
                       devices, which made linking trick in rm background illegal,
                       we simply disable the background rm.

-------------------------------------------------------------------
Tue Feb 22 15:24:14 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: to run on old rhels, we don't check the patch version.

-------------------------------------------------------------------
Tue Feb 22 14:21:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: insert a forked check_output method to subprocess if it doesn't exist.

-------------------------------------------------------------------
Wed Feb 16 17:16:58 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: insert a forked check_output method to subprocess if it doesn't exist.

-------------------------------------------------------------------
Wed Jan 19 10:14:21 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: use $BUILD_NUMBER instead of $ABS_NUMBER_NUMBER.

-------------------------------------------------------------------
Tue Jan 18 20:10:44 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: enable smp_mflags for build.

-------------------------------------------------------------------
Tue Jan 18 19:58:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: restore the requires for kernel-firmware.

-------------------------------------------------------------------
Tue Jan 18 19:33:57 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: build kernel-firmware package.

-------------------------------------------------------------------
Tue Jan 18 19:26:00 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: don't require new kernel-firmware on rhel5.

-------------------------------------------------------------------
Tue Jan 18 15:32:17 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: fix for ABS 'for-dev' build.

-------------------------------------------------------------------
Tue Jan 18 14:24:03 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: echo build sn before packaging.

-------------------------------------------------------------------
Tue Jan 18 10:30:01 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: use '.' instead of '-' in PKGRELEASE since '-' is illegal here.
- scripts/package.py: complete the usage.

-------------------------------------------------------------------
Mon Jan 17 18:14:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: write build serial number into package name to make yum happy.
- scripts/mkspec.py:
- scripts/package.py:

-------------------------------------------------------------------
Mon Jan 17 17:53:06 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: we don't require grubby at all on rhel5

-------------------------------------------------------------------
Mon Jan 17 15:53:15 CST 2011 - gaoyang.zyh@taobao.com

- MAINTAINERS: add sanbai to MAINTAINERS (for test only)

-------------------------------------------------------------------
Mon Jan 17 15:30:10 CST 2011 - xuejiang@taobao.com

- rpm/taobao-kernel-buildqa.sh: cd rpm folder for safe.

-------------------------------------------------------------------
Mon Jan 17 15:04:12 CST 2011 - gaoyang.zyh@taobao.com

- MAINTAINERS: initial maintainers list (not complete, for test only).
- rpm/taobao-kernel-buildqa.py: ABS 'For QA' build hook.
- rpm/taobao-kernel-buildqa.sh: ditto.

-------------------------------------------------------------------
Mon Jan 17 14:52:08 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: correct the options for new-kernel-pkg on rhel5.

-------------------------------------------------------------------
Sat Jan 15 13:12:24 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: move the on_rhel5 macro to the head to make it available globally.

-------------------------------------------------------------------
Fri Jan 14 17:52:30 CST 2011 - gaoyang.zyh@taobao.com

- Update config files. Turn on the deprecated options for rhel5.
- rpm/kernel.spec.in: disable various package requires on old rhel.
- rpm/taobao-kernel-build.sh: we don't use dracut.

-------------------------------------------------------------------
Thu Jan 13 15:50:13 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: remove '@git' from package name for ABS build.

-------------------------------------------------------------------
Thu Jan 13 11:34:16 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: use mailx instead of mail (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:24:22 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: clean up copyrights (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:17:03 CST 2011 - gaoyang.zyh@taobao.com

- scripts/seq-patch.py: clean up copyrights (to test git send email hook)

-------------------------------------------------------------------
Thu Jan 13 11:08:42 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: use devel@kernel.taobao.org as the default receiver.

-------------------------------------------------------------------
Wed Jan 12 16:53:08 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: disable building kernel-debug package

-------------------------------------------------------------------
Wed Jan 12 11:10:45 CST 2011 - gaoyang.zyh@taobao.com

- scripts/abs-post-receive: a initial version git server update hook to send mails.

-------------------------------------------------------------------
Wed Jan 12 11:09:54 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: don't build kdump kernel.

-------------------------------------------------------------------
Tue Jan 11 15:39:53 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: build without perftool.

-------------------------------------------------------------------
Tue Jan 11 13:52:16 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: redirect the stdout of test for tar to /dev/null.

-------------------------------------------------------------------
Tue Jan 11 13:38:41 CST 2011 - gaoyang.zyh@taobao.com

- rpm/taobao-kernel-build.sh: Enable more functional build, without perf, xen, and kabichk.

-------------------------------------------------------------------
Tue Jan 11 11:43:25 CST 2011 - gaoyang.zyh@taobao.com

- doc/README.Taobao: Add an initial doc.

-------------------------------------------------------------------
Tue Jan 11 11:16:01 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: s/pglobal/global, it's a typo.

-------------------------------------------------------------------
Tue Jan 11 10:35:13 CST 2011 - gaoyang.zyh@taobao.com

- scripts/mkspec.py: correct the 'var if var1 else var2' statement to work with old python.

-------------------------------------------------------------------
Mon Jan 10 19:26:18 CST 2011 - gaoyang.zyh@taobao.com

- rpm/kernel.spec.in: comment out the pgglobal one to build under old rpmbuild

-------------------------------------------------------------------
Mon Jan 10 18:24:49 CST 2011 - gaoyang.zyh@taobao.com

- scripts/config.py: fix a wrong tab indent

-------------------------------------------------------------------
Mon Jan 10 17:52:26 CST 2011 - gaoyang.zyh@taobao.com

- scripts/config.py: the ret should be assigned before referenced.

-------------------------------------------------------------------
Mon Jan 10 17:50:38 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: rewrite the call to mkspec.py to make old python happy.

-------------------------------------------------------------------
Mon Jan 10 17:43:11 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: a typo in previous commit, sorry...

-------------------------------------------------------------------
Mon Jan 10 17:39:30 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: the previous snippet doesn't fit with old python in RHEL5.

-------------------------------------------------------------------
Fri Jan  7 17:23:34 CST 2011 - gaoyang.zyh@taobao.com

- scripts/patch-tag-template: add more details to the comments.

-------------------------------------------------------------------
Wed Jan  5 17:27:52 CST 2011 - gaoyang.zyh@taobao.com

- scripts/patch-tag: add script to verify the patch header.
- scripts/patch-tag-template: add patch header template.

-------------------------------------------------------------------
Wed Jan  5 17:24:35 CST 2011 - gaoyang.zyh@taobao.com

- scripts/refresh_patch.sh: it's a wrapper of 'quilt refresh', to make the format unified.

-------------------------------------------------------------------
Tue Jan  4 19:38:19 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: fix the os.symlink error, the old one links to itself by mistake.

-------------------------------------------------------------------
Tue Jan  4 19:26:30 CST 2011 - gaoyang.zyh@taobao.com

Add scripts to check patches when submitting.
- scripts/check-cvs-add: check if all files referenced by series.conf are in git.
- scripts/check-patch: check a patch's format
- scripts/cvs-touched-files: find out which files appear to have changed.
- scripts/git-pre-commit: select out the patches in committing files to run check_patch
- scripts/install-git-hooks: to install the scripts to a fresh cloned git repo.
- scripts/log: run this to submit your work.
- scripts/rpm-changes-merge.pl:
- scripts/vc: called by log to verify the changelog
- scripts/wd-functions.sh: public functions used by scripts/*.sh

-------------------------------------------------------------------
Tue Jan  4 19:22:51 CST 2011 - gaoyang.zyh@taobao.com

- scripts/package.py: Link the tarball instead of copying it to speed up packaging.

